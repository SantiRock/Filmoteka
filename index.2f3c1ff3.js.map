{"mappings":"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","sources":["src/js/index.js","src/js/homecard.js"],"sourcesContent":["import makeMoviesPosters from './homecard.js';\nimport '../sass/index.scss';\n\n// Variables ----\nconst media_type = 'all';\nconst time_window = 'week';\nlet currentPage = 1;\nlet totalPages = 50;\n\n// Fetch & Render ----\nfunction uploadMovies() {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/${media_type}/${time_window}?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&per_page=18&page=${currentPage}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nconst render = () => {\n  uploadMovies().then(trendingMovies => {\n    //totalPages = trendingMovies.total_pages;\n    return makeMoviesPosters(trendingMovies);\n  });\n};\n\nrender();\nexport default render;\n\n// PaginaciÃ³n ----\n\nconst pages = document.querySelector('.pages');\nconst pagesToShow = 5;\n\nconst pagination = () => {\n    pages.innerHTML = '';\n\n    const prevBtn = document.createElement('button');\n    prevBtn.textContent = '<';\n    prevBtn.classList.add('pagebtn');\n    prevBtn.disabled = currentPage === 1;\n    prevBtn.addEventListener('click', () => {\n        currentPage--;\n        render();\n        pagination();\n    });\n    pages.append(prevBtn);\n\n    const first = document.createElement('button');\n    first.textContent = '1';\n    first.classList.add('page');\n    first.disable = currentPage === 1;\n    first.addEventListener('click', () => {\n      currentPage = 1;\n      render();\n      pagination();\n    });\n    pages.append(first);\n\n    const dots = document.createElement('div');\n    dots.textContent = '...';\n    dots.classList.add('dots');\n    pages.append(dots);\n\n    const st1 = Math.max(currentPage - Math.floor(pagesToShow/2), 1);\n    const st2 = Math.max(currentPage - pagesToShow + 1, 1);\n    const st3 = Math.max(currentPage - pagesToShow + 2, 1);\n\n    let startPage;\n    currentPage === totalPages ? startPage = st2 \n    : currentPage === totalPages - 1 ? startPage = st3 : startPage = st1;\n\n    const endPage = Math.min(startPage + pagesToShow - 1, totalPages);\n    for(let i = startPage; i <= endPage; i++) {\n      const pageButton = document.createElement('button');\n      pageButton.classList.add('page');\n      pageButton.textContent = i;\n      pageButton.disable = i === currentPage;\n\n      i === currentPage ? pageButton.classList.add('activePage') : pageButton.classList.remove('activePage');\n\n      pageButton.addEventListener('click', () => {\n        currentPage = i;\n        render();\n        pagination();\n      });\n      pages.append(pageButton);\n    };\n\n    const dots1 = document.createElement('div');\n    dots1.textContent = '...';\n    dots1.classList.add('dots');\n    pages.append(dots1);\n\n    const last = document.createElement('button');\n    last.textContent = totalPages;\n    last.classList.add('page');\n    last.disable = currentPage === totalPages\n    last.addEventListener('click', () => {\n      currentPage = totalPages;\n      render();\n      pagination();\n    });\n    pages.append(last);\n\n    const nextBtn = document.createElement('button');\n    nextBtn.textContent = '>';\n    nextBtn.classList.add('pagebtn');\n    nextBtn.disabled = currentPage === totalPages;\n    nextBtn.addEventListener('click', () => {\n        currentPage++;\n        render();\n        pagination();\n    });\n    pages.append(nextBtn);\n}\n\npagination();\n\n","const filmsContainer = document.querySelector('.films');\n\nconst moviesPerPage = 12;\n\nfunction makeMoviesPosters(arr) {\n  filmsContainer.innerHTML = '';\n  const moviesToDisplay = arr.results.slice(0, moviesPerPage);\n\n  const moviesList = moviesToDisplay\n    .map(movie => {\n      return `\n      <div class='films__card'>\n        <img class= \"films__poster\" src='https://image.tmdb.org/t/p/w500${\n          movie.poster_path\n        }'></> \n        <p class= \"films__title\">${movie.title || movie.name}</p>\n        <p class= \"films__details\">${movie.genre_ids} | ${\n        (movie.release_date && movie.release_date.slice(0, 4)) ||\n        movie.first_air_date.slice(0, 4)\n      }</p>\n        <div class='films__rate'>${movie.vote_average.toFixed(1)}</div>\n      </div>\n    `;\n    })\n    .join('');\n\n  filmsContainer.innerHTML = moviesList;\n}\n\nexport default makeMoviesPosters;\n"],"names":["$4iEUr","parcelRequire","$44ae6d9db4eaca0f$var$currentPage","$44ae6d9db4eaca0f$var$totalPages","$44ae6d9db4eaca0f$var$render","fetch","concat","then","response","ok","Error","status","json","trendingMovies","default","$44ae6d9db4eaca0f$export$2e2bcd8739ae039","$44ae6d9db4eaca0f$var$pages","document","querySelector","$44ae6d9db4eaca0f$var$pagination","pageButton","createElement","classList","add","textContent","i","disable","remove","addEventListener","append","innerHTML","prevBtn","disabled","first","dots","startPage","st1","Math","max","floor","$44ae6d9db4eaca0f$var$pagesToShow","st2","st3","endPage","min","i1","_loop","dots1","last","nextBtn","$32189398d2b447c4$var$filmsContainer","$32189398d2b447c4$export$2e2bcd8739ae039","arr","moviesList","results","slice","map","movie","poster_path","title","name","genre_ids","release_date","first_air_date","vote_average","toFixed","join"],"version":3,"file":"index.2f3c1ff3.js.map"}