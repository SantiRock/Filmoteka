!function(){var e={watchedId:[]},t={queueId:[]};function a(){null===localStorage.getItem("queue")?t.watchedId=[]:t.queueId=JSON.parse(localStorage.getItem("queue")).queueId}function n(){null===localStorage.getItem("watched")?e.watchedId=[]:e.watchedId=JSON.parse(localStorage.getItem("watched")).watchedId}a(),n();var c=function(e){var t=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://via.placeholder.com/500x750?text=No+poster+available",a=e.title.toUpperCase(),n=e.vote_average.toFixed(1),c=e.genres.map((function(e){return e.name})).join(", "),o=document.querySelector(".modalw"),l='\n      <div class="modal-header">\n        <button class="modal-close">&times;</button>\n      </div>\n      <div>\n        <img class="modal-poster" src="'.concat(t,'" alt="').concat(a,'">\n      </div>\n      <div>\n        <h2 class="modal-title">').concat(a,'</h2>\n        <p class="modal-info">Vote Count: ').concat(n," | ").concat(e.vote_count,"<br>Popularity: ").concat(e.popularity,"<br>Original Title: ").concat(e.original_title,"<br>Genre: ").concat(c,'</p>\n        <p class="modal-about"><b>ABOUT</b><br>').concat(e.overview,'</p>\n        <div class="modal-buttons">\n          <button class="watch-btn">ADD TO WATCHED</button>\n          <button class="queue-btn">ADD TO QUEUE</button>\n        </div>\n      </div>\n    '),d=document.createElement("div");d.innerHTML=l,d.classList.add("modal-content"),o.appendChild(d),o.style.display="flex",d.querySelector(".modal-close").addEventListener("click",(function(){o.style.display="none",d.remove()}));var s=d.querySelector(".watch-btn"),i=d.querySelector(".queue-btn");s.disabled,i.disabled,s.addEventListener("click",(function(){})),i.addEventListener("click",(function(){})),o.addEventListener("click",(function(e){e.target===o&&(o.style.display="flex",d.remove())}))},o=document.querySelector(".films");var l=function(e){var t=e.poster_path?"https://image.tmdb.org/t/p/w500".concat(e.poster_path):"https://via.placeholder.com/500x750?text=No+poster+available",a=e.title.toUpperCase(),n=e.vote_average.toFixed(1),l=e.release_date.slice(0,4),d=e.genres.map((function(e){return e.name})).join(", "),s=document.createElement("div");s.classList.add("films__card");var i="\n    <img class='films__poster' src=".concat(t," alt=").concat(a," loading='lazy' class='poster'>\n    <p class='films__title'>").concat(a,"</p>\n    <p class='films__details'>").concat(d," | ").concat(l,"</p>\n    <div class='films__rate'>").concat(n,"</div>\n    ");s.innerHTML=i,o.appendChild(s),s.addEventListener("click",(function(){c(e)}))},d=document.querySelector(".pages"),s=function(e,t,a){var n=function(n){var c=document.createElement("button");c.classList.add("page"),c.textContent=n,c.disabled=n===a,n===a?c.classList.add("activePage"):c.classList.remove("activePage"),c.addEventListener("click",(function(){a=n,getLocalStorage(e,a),s(e,t,a)})),d.append(c)};d.innerHTML="";var c=document.createElement("button");c.textContent="←",c.classList.add("pagebtn"),c.disabled=1===a,c.addEventListener("click",(function(){a--,getLocalStorage(e,a),s(e,t,a)})),d.append(c);var o=document.createElement("button");o.textContent="1",o.classList.add("page"),o.disabled=1===a,o.addEventListener("click",(function(){a=1,getLocalStorage(e,a),s(e,t,a)})),d.append(o);var l=document.createElement("div");l.textContent="...",l.classList.add("dots"),d.append(l);var i,r=Math.max(a-Math.floor(2.5),1),u=Math.max(a-5+1,1),m=Math.max(a-5+2,1);i=a===t?u:a===t-1?m:r;for(var p=Math.min(i+5-1,t),v=i;v<=p;v++)n(v);var g=document.createElement("div");g.textContent="...",g.classList.add("dots"),d.append(g);var h=document.createElement("button");h.textContent=t,h.classList.add("page"),h.disabled=a===t,h.addEventListener("click",(function(){a=t,getLocalStorage(e,a),s(e,t,a)})),d.append(h);var f=document.createElement("button");f.textContent="→",f.classList.add("pagebtn"),f.disabled=a===t,f.addEventListener("click",(function(){a++,getLocalStorage(e,a),s(e,t,a)})),d.append(f)},i=s,r=document.querySelector(".watched"),u=document.querySelector(".queue"),m=document.querySelector(".films"),p=document.querySelector(".msn"),v=document.querySelector(".pages"),g=document.querySelector(".screen");console.log(localStorage),a(),n();var h=t.queueId,f=e.watchedId;h=null===localStorage.getItem("queue")?[]:JSON.parse(localStorage.getItem("queue")).queueId,f=null===localStorage.getItem("watched")?[]:JSON.parse(localStorage.getItem("watched")).watchedId,r.addEventListener("click",(function(e){e.preventDefault(),r.classList.add("selected"),u.classList.remove("selected"),0===f.length?(m.innerHTML="",p.textContent="No movies have been added to Watched list yet",v.innerHTML=""):(b(f,1),i(f,L,1))})),u.addEventListener("click",(function(e){e.preventDefault(),u.classList.add("selected"),r.classList.remove("selected"),0===h.length?(m.innerHTML="",p.textContent="No movies have been added to Queue list yet",v.innerHTML=""):(b(h,1),i(h,S,1))}));function b(e,t){if(0===e.length)p.textContent="No movies have been added to Watched list yet";else{var a=12*(t-1),n=a+12,c=e.slice(a,n);m.innerHTML="",c.forEach((function(e){g.style.display="flex",fetch("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat("0a3a4e00d84de20a8f1b6dfc8a7cdfd5","&language=en-US")).then((function(e){return e.json()})).then((function(e){return l(e)})).catch((function(e){return console.error(e)})).finally((function(){return g.style.display="none"}))})),i(f,L,1)}}var L=Math.ceil(f.length/12),S=Math.ceil(h.length/12);v.innerHTML="",b(f,1)}();
//# sourceMappingURL=mylibrary.847d0303.js.map
