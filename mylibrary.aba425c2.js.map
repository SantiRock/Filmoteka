{"mappings":"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","sources":["src/js/librarycard.js","src/js/mylibrary.js"],"sourcesContent":["const films = document.querySelector('.films');\n\nfunction renderFilms(film) {\n    const baseUrl = 'https://image.tmdb.org/t/p/';\n    const posterSize = 'w500';\n    // 'w92', 'w185', 'w500',\n    const poster = baseUrl + posterSize + film.poster_path;\n    const title = film.title.toUpperCase();\n    const rate = film.vote_average.toFixed(1);\n    const year = film.release_date.slice(0,4);\n    let genres = film.genres.map(genre => genre.name).join(', ');\n\n    const card = document.createElement('div');\n    //card.classList.add('card');\n    films.append(card);\n\n    let markup = `\n    <img class='films__poster' src=${poster} alt=${title} loading='lazy' class='poster'>\n    <p class='films__title'>${title}</p>\n    <p class='films__details'>${genres} | ${year}</p>\n    <div class='films__rate'>${rate}</div>\n    `;\n\n    card.innerHTML = markup;     \n};\n\nexport default renderFilms;","import '../sass/index.scss';\nimport renderFilms from './librarycard';\n\n// DOM -----\nconst watched = document.querySelector('.watched');\nconst queue = document.querySelector('.queue');\nconst films = document.querySelector('.films');\nconst itemsPerPage = 12;\nlet currentPage = 1;\n\n\n// Event Listeners ---\nwatched.addEventListener('click', (event) => {\n    event.preventDefault();\n    watched.classList.add('selected');\n    queue.classList.remove('selected');\n    getLocalStorage(watchedIds, currentPage);\n    pagination(watchedIds, totalPagesW, currentPage);\n});\n\nqueue.addEventListener('click', (event) => {\n    event.preventDefault();\n    queue.classList.add('selected');\n    watched.classList.remove('selected');\n    getLocalStorage(queueIds, currentPage);\n    pagination(queueIds, totalPagesQ, currentPage);\n});\n\n// Local Storage Example\nconst watchedLocalStorage = { watchedId: [76600, 726759, 638974, 677179, 849869, 603692, 493529, 447365, 83121, 816904, 997317, 346698, 739405, 932430] };\nconst queueLocalStorage = { queueId: [447365, 83121, 816904, 997317, 346698, 739405, 932430] };\nlocalStorage.setItem('watched', JSON.stringify(watchedLocalStorage));\nlocalStorage.setItem('queue', JSON.stringify(queueLocalStorage));\n\n\n// Local Storage Manage  ---\n\nconst queueIds = JSON.parse(localStorage.getItem('queue')).queueId;\nconst watchedIds = JSON.parse(localStorage.getItem('watched')).watchedId;\nconst apiKey = '0a3a4e00d84de20a8f1b6dfc8a7cdfd5';\n\nfunction getLocalStorage(arr, page) {\n    const startIndex = (page - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    const itemsToDisplay = arr.slice(startIndex, endIndex)\n    films.innerHTML = '';\n    itemsToDisplay.forEach(movie_id => {\n        fetch(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${apiKey}&language=en-US`)\n        .then(response => response.json())\n        .then(film => renderFilms(film))\n        .catch(error => console.error(error));\n    })\n }\n\n// Render by default\ngetLocalStorage(watchedIds, currentPage);\n\n// Pagination\n\nlet markup = `\n<svg class=\"psvg\">\n  <use href=\"./images/symbol-defs.svg#icon-Arrow-left\">\n</svg>\n`;\n\nconst totalPagesW = Math.ceil(watchedIds.length / itemsPerPage);\nconst totalPagesQ = Math.ceil(queueIds.length / itemsPerPage);\nconst pagesToShow = 5;\nconst pages = document.querySelector('.pages');\nconst pbtn = document.querySelector('.prevbtn');\n\nconst pagination = (arr, totalPages, currentPage) => {\n    pages.innerHTML = '';\n\n    const prevBtn = document.createElement('button');\n    prevBtn.textContent = '<';\n    //prevBtn.innerHTML = markup;\n    prevBtn.classList.add('pagebtn');\n    prevBtn.disabled = currentPage === 1;\n    prevBtn.addEventListener('click', () => {\n        currentPage--;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(prevBtn);\n\n    const first = document.createElement('button');\n    first.textContent = '1';\n    first.classList.add('page');\n    first.disable = currentPage === 1;\n    first.addEventListener('click', () => {\n        currentPage = 1;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(first);\n\n    const dots = document.createElement('div');\n    dots.textContent = '...';\n    dots.classList.add('dots');\n    pages.append(dots);\n\n    const st1 = Math.max(currentPage - Math.floor(pagesToShow/2), 1);\n    const st2 = Math.max(currentPage - pagesToShow + 1, 1);\n    const st3 = Math.max(currentPage - pagesToShow + 2, 1);\n\n    let startPage;\n    currentPage === totalPages ? startPage = st2 \n    : currentPage === totalPages - 1 ? startPage = st3 : startPage = st1;\n    \n    const endPage = Math.min(startPage + pagesToShow - 1, totalPages);\n    for(let i = startPage; i <= endPage; i++) {\n      const pageButton = document.createElement('button');\n      pageButton.classList.add('page');\n      pageButton.textContent = i;\n      pageButton.disable = i === currentPage;\n\n      i === currentPage ? pageButton.classList.add('activePage') : pageButton.classList.remove('activePage');\n\n      pageButton.addEventListener('click', () => {\n        currentPage = i;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n      });\n      pages.append(pageButton);\n    };\n\n    const dots1 = document.createElement('div');\n    dots1.textContent = '...';\n    dots1.classList.add('dots');\n    pages.append(dots1);\n\n    const last = document.createElement('button');\n    last.textContent = totalPages;\n    last.classList.add('page');\n    last.disable = currentPage === totalPages\n    last.addEventListener('click', () => {\n        currentPage = totalPages;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(last);\n\n    const nextBtn = document.createElement('button');\n    nextBtn.textContent = '>';\n    nextBtn.classList.add('pagebtn');\n    nextBtn.disabled = currentPage === totalPages;\n    nextBtn.addEventListener('click', () => {\n        currentPage++;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(nextBtn);\n}\n\npagination(watchedIds, totalPagesW, currentPage);\n\n\n\n// Tests\n/*\n const url = `https://api.themoviedb.org/3/trending/all/day?api_key=${apiKey}`;\n fetch(url)\n .then(response => response.json())\n .then(data => getID(data.results))\n .catch(error => console.error(error));\n\nfunction getID(data) {\n    data.forEach(film => console.log(film.id))\n}\n*/\n\n"],"names":["$4a3bab806eab21c8$var$films","document","querySelector","$4a3bab806eab21c8$export$2e2bcd8739ae039","film","poster","baseUrl","poster_path","title","toUpperCase","rate","vote_average","toFixed","year","release_date","slice","genres","map","genre","name","join","card","createElement","append","markup","concat","innerHTML","$ab5c4f364fa41332$var$watched","$ab5c4f364fa41332$var$queue","$ab5c4f364fa41332$var$films","addEventListener","event","preventDefault","classList","add","remove","$ab5c4f364fa41332$var$getLocalStorage","$ab5c4f364fa41332$var$watchedIds","$ab5c4f364fa41332$var$pagination","$ab5c4f364fa41332$var$totalPagesW","$ab5c4f364fa41332$var$queueIds","$ab5c4f364fa41332$var$totalPagesQ","localStorage","setItem","JSON","stringify","watchedId","queueId","parse","getItem","arr","page","startIndex","endIndex","itemsToDisplay","forEach","movie_id","fetch","then","response","json","catch","error","console","Math","ceil","length","$ab5c4f364fa41332$var$pages","totalPages","currentPage1","pageButton","textContent","i","disable","prevBtn","disabled","first","dots","startPage","st1","max","floor","$ab5c4f364fa41332$var$pagesToShow","st2","st3","endPage","min","i1","_loop","dots1","last","nextBtn"],"version":3,"file":"mylibrary.aba425c2.js.map"}