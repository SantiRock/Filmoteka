!function(){var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},a=t.parcelRequire4383;null==a&&((a=function(t){if(t in e)return e[t].exports;if(t in n){var a=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,a.call(o.exports,o,o.exports),o.exports}var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(t,e){n[t]=e},t.parcelRequire4383=a);var o=a("6Sco9");var c=function(t){var e=document.querySelector(".modalw"),n=(t.title||t.name).toUpperCase(),a=(t.original_title||t.name).toUpperCase(),c=t.popularity.toFixed(1),i=t.vote_average.toFixed(1),l=t.genres.map((function(t){return t.name})).join(", "),s='\n      <div class="modal-header">\n        \n        <button class="modal-close">&times;</button>\n      </div>\n      <div class=\'poster_container\'>\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500'.concat(t.poster_path,'" alt="').concat(t.title,'">\n      </div>\n      <div class=\'info\'>\n        <h3 class="modal-title">').concat(n,"</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>").concat(i,"</span> / ").concat(t.vote_count,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>").concat(c,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>").concat(a,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>").concat(l,"</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>").concat(t.overview,'</p>\n          <div class="modal-btns">\n            <button class="btnmodal2 addw">REMOVE FROM LIBRARY</button>\n        </div>\n      </div>\n    '),d=document.createElement("div");d.innerHTML=s,d.classList.add("modal-content"),e.appendChild(d),e.style.display="flex",d.querySelector(".modal-close").addEventListener("click",(function(){e.style.display="none",d.remove()}));var r=o.watchedLocalStorage.watchedId,p=d.querySelector(".addw");p.addEventListener("click",(function(){var e=r.indexOf(t.id);r.splice(e,1),localStorage.setItem("watched",JSON.stringify(o.watchedLocalStorage)),p.classList.add("btnmodal"),p.classList.remove("btnmodal2"),window.location.reload()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(e.style.display="none",d.remove())})),document.addEventListener("click",(function(t){t.target===e&&(e.style.display="none",d.remove())}))},i=document.querySelector(".films");var l=function(t){var e=t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):"https://via.placeholder.com/500x750?text=No+poster+available",n=t.title.toUpperCase(),a=t.vote_average.toFixed(1),o=t.release_date.slice(0,4),l=t.genres.map((function(t){return t.name})).join(", "),s=document.createElement("div");s.classList.add("films__card");var d="\n    <img class='films__poster' src=".concat(e," alt=").concat(n," loading='lazy' class='poster'>\n    <p class='films__title'>").concat(n,"</p>\n    <p class='films__details'>").concat(l," | ").concat(o,"</p>\n    <div class='films__rate'>").concat(a,"</div>\n    ");s.innerHTML=d,i.appendChild(s),s.addEventListener("click",(function(){c(t)}))};o=a("6Sco9");a("cHbiO").config();var s=document.querySelector(".films"),d=document.querySelector(".msn"),r=document.querySelector(".pages"),p=document.querySelector(".screen");(0,o.getLocalw)();var u=o.watchedLocalStorage.watchedId;u=null===localStorage.getItem("watched")?[]:JSON.parse(localStorage.getItem("watched")).watchedId;function m(t,e){if(0===t.length)d.textContent="No movies have been added to Watched list yet";else{var n=12*(e-1),a=n+12,o=t.slice(n,a);s.innerHTML="",o.forEach((function(t){p.style.display="flex",fetch("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(undefined,"&language=en-US")).then((function(t){return t.json()})).then((function(t){return l(t)})).catch((function(t){return console.error(t)})).finally((function(){return p.style.display="none"}))})),f(u,v,1)}}var v=Math.ceil(u.length/12),f=function(t,e,n){var a=function(a){var o=document.createElement("button");o.classList.add("page"),o.textContent=a,o.disabled=a===n,a===n?o.classList.add("activePage"):o.classList.remove("activePage"),o.addEventListener("click",(function(){m(t,n=a),f(t,e,n)})),r.append(o)};r.innerHTML="";var o=document.createElement("button");if(o.textContent="←",o.classList.add("pagebtn"),o.disabled=1===n,o.addEventListener("click",(function(){n--,m(t,n),f(t,e,n)})),r.append(o),n>3){var c=document.createElement("button");c.textContent="1",c.classList.add("page"),c.addEventListener("click",(function(){m(t,n=1),f(t,e,n)})),r.append(c)}if(n>4){var i=document.createElement("div");i.textContent="...",i.classList.add("dots"),r.append(i)}var l,s=Math.max(n-Math.floor(2.5),1),d=Math.max(n-5+1,1),p=Math.max(n-5+2,1);l=n===e?d:n===e-1?p:s;for(var u=Math.min(l+5-1,e),v=l;v<=u;v++)a(v);if(n<e-3){var h=document.createElement("div");h.textContent="...",h.classList.add("dots"),r.append(h)}if(n<e-2){var g=document.createElement("button");g.textContent=e,g.classList.add("page"),g.addEventListener("click",(function(){m(t,n=e),f(t,e,n)})),r.append(g)}var L=document.createElement("button");L.textContent="→",L.classList.add("pagebtn"),L.disabled=n===e,L.addEventListener("click",(function(){n++,m(t,n),f(t,e,n)})),r.append(L)};r.innerHTML="",m(u,1)}();
//# sourceMappingURL=mylibrary.fe0ea91f.js.map
