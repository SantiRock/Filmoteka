{"mappings":"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","sources":["src/js/index.js","src/js/homecard.js"],"sourcesContent":["import makeMoviesPosters from './homecard.js';\nimport '../sass/index.scss';\n\n// Variables ----\nconst media_type = 'all';\nconst time_window = 'week';\nlet currentPage = 1;\nlet totalPages = 50;\n\n// Fetch & Render ----\nfunction uploadMovies() {\n  return fetch(\n    `https://api.themoviedb.org/3/trending/${media_type}/${time_window}?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&per_page=18&page=${currentPage}`\n  ).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nconst render = () => {\n  uploadMovies().then(trendingMovies => {\n    //totalPages = trendingMovies.total_pages;\n    return makeMoviesPosters(trendingMovies);\n  });\n};\n\nrender();\nexport default render;\n\n// PaginaciÃ³n ----\n\nconst pages = document.querySelector('.pages');\nconst pagesToShow = 5;\n\nconst pagination = () => {\n    pages.innerHTML = '';\n\n    const prevBtn = document.createElement('button');\n    prevBtn.textContent = '<';\n    prevBtn.classList.add('pagebtn');\n    prevBtn.disabled = currentPage === 1;\n    prevBtn.addEventListener('click', () => {\n        currentPage--;\n        render();\n        pagination();\n    });\n    pages.append(prevBtn);\n\n    const first = document.createElement('button');\n    first.textContent = '1';\n    first.classList.add('page');\n    first.disable = currentPage === 1;\n    first.addEventListener('click', () => {\n      currentPage = 1;\n      render();\n      pagination();\n    });\n    pages.append(first);\n\n    const dots = document.createElement('div');\n    dots.textContent = '...';\n    dots.classList.add('dots');\n    pages.append(dots);\n\n    const st1 = Math.max(currentPage - Math.floor(pagesToShow/2), 1);\n    const st2 = Math.max(currentPage - pagesToShow + 1, 1);\n    const st3 = Math.max(currentPage - pagesToShow + 2, 1);\n\n    let startPage;\n    currentPage === totalPages ? startPage = st2 \n    : currentPage === totalPages - 1 ? startPage = st3 : startPage = st1;\n\n    const endPage = Math.min(startPage + pagesToShow - 1, totalPages);\n    for(let i = startPage; i <= endPage; i++) {\n      const pageButton = document.createElement('button');\n      pageButton.classList.add('page');\n      pageButton.textContent = i;\n      pageButton.disable = i === currentPage;\n\n      i === currentPage ? pageButton.classList.add('activePage') : pageButton.classList.remove('activePage');\n\n      pageButton.addEventListener('click', () => {\n        currentPage = i;\n        render();\n        pagination();\n      });\n      pages.append(pageButton);\n    };\n\n    const dots1 = document.createElement('div');\n    dots1.textContent = '...';\n    dots1.classList.add('dots');\n    pages.append(dots1);\n\n    const last = document.createElement('button');\n    last.textContent = totalPages;\n    last.classList.add('page');\n    last.disable = currentPage === totalPages\n    last.addEventListener('click', () => {\n      currentPage = totalPages;\n      render();\n      pagination();\n    });\n    pages.append(last);\n\n    const nextBtn = document.createElement('button');\n    nextBtn.textContent = '>';\n    nextBtn.classList.add('pagebtn');\n    nextBtn.disabled = currentPage === totalPages;\n    nextBtn.addEventListener('click', () => {\n        currentPage++;\n        render();\n        pagination();\n    });\n    pages.append(nextBtn);\n}\n\npagination();\n\n","const filmsContainer = document.querySelector('.films');\n\nconst moviesPerPage = 12;\n\nfunction makeMoviesPosters(arr) {\n  filmsContainer.innerHTML = '';\n  const moviesToDisplay = arr.results.slice(0, moviesPerPage);\n\n  const moviesList = moviesToDisplay\n    .map(movie => {\n      return `\n      <div class='films__card'>\n        <img class= \"films__poster\" src='https://image.tmdb.org/t/p/w500${\n          movie.poster_path\n        }'></> \n        <p class= \"films__title\">${movie.title || movie.name}</p>\n        <p class= \"films__details\">${movie.genre_ids} | ${\n        (movie.release_date && movie.release_date.slice(0, 4)) ||\n        movie.first_air_date.slice(0, 4)\n      }</p>\n        <div class='films__rate'>${movie.vote_average.toFixed(1)}</div>\n      </div>\n    `;\n    })\n    .join('');\n\n  filmsContainer.innerHTML = moviesList;\n}\n\nexport default makeMoviesPosters;\n"],"names":["$7cEWj","parcelRequire","$85a5f86b715fe7db$var$currentPage","$85a5f86b715fe7db$var$totalPages","$85a5f86b715fe7db$var$render","fetch","then","response","ok","Error","status","json","trendingMovies","default","$85a5f86b715fe7db$export$2e2bcd8739ae039","$85a5f86b715fe7db$var$pages","document","querySelector","$85a5f86b715fe7db$var$pagination","innerHTML","prevBtn","createElement","textContent","classList","add","disabled","addEventListener","append","first","disable","dots","st1","Math","max","floor","$85a5f86b715fe7db$var$pagesToShow","st2","st3","startPage","endPage","min","i","pageButton","remove","dots1","last","nextBtn","$53e96921ca703939$var$filmsContainer","$53e96921ca703939$export$2e2bcd8739ae039","arr","moviesList","results","slice","map","movie","poster_path","title","name","genre_ids","release_date","first_air_date","vote_average","toFixed","join"],"version":3,"file":"index.5d909476.js.map"}