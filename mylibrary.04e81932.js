var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequire4383;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var s={id:e,exports:{}};return t[e]=s,a.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},e.parcelRequire4383=a);var s=a("bOFJ0");var o=function(e){const t=document.querySelector(".modalw"),n=(e.title||e.name).toUpperCase(),a=(e.original_title||e.name).toUpperCase(),o=e.popularity.toFixed(1),l=e.vote_average.toFixed(1),d=e.genres.map((e=>e.name)).join(", "),c=`\n      <div class="modal-header">\n        \n        <button class="modal-close">&times;</button>\n      </div>\n      <div class='poster_container'>\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">\n      </div>\n      <div class='info'>\n        <h3 class="modal-title">${n}</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>${l}</span> / ${e.vote_count}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>${o}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>${a}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>${d}</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>${e.overview}</p>\n          <div class="modal-btns">\n            <button class="btnmodal2 addw">REMOVE FROM LIBRARY</button>\n        </div>\n      </div>\n    `,i=document.createElement("div");i.innerHTML=c,i.classList.add("modal-content"),t.appendChild(i),t.style.display="flex",i.querySelector(".modal-close").addEventListener("click",(()=>{t.style.display="none",i.remove()}));const r=s.watchedLocalStorage.watchedId,p=i.querySelector(".addw");p.addEventListener("click",(()=>{const t=r.indexOf(e.id);r.splice(t,1),localStorage.setItem("watched",JSON.stringify(s.watchedLocalStorage)),p.classList.add("btnmodal"),p.classList.remove("btnmodal2"),window.location.reload()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(t.style.display="none",i.remove())})),document.addEventListener("click",(e=>{e.target===t&&(t.style.display="none",i.remove())}))};const l=document.querySelector(".films");var d=function(e){const t=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available",n=e.title.toUpperCase(),a=e.vote_average.toFixed(1),s=e.release_date.slice(0,4);let d=e.genres.map((e=>e.name)).join(", ");const c=document.createElement("div");c.classList.add("films__card");let i=`\n    <img class='films__poster' src=${t} alt=${n} loading='lazy' class='poster'>\n    <p class='films__title'>${n}</p>\n    <p class='films__details'>${d} | ${s}</p>\n    <div class='films__rate'>${a}</div>\n    `;c.innerHTML=i,l.appendChild(c),c.addEventListener("click",(()=>{o(e)}))};s=a("bOFJ0");a("isoaK").config();const c=document.querySelector(".films"),i=document.querySelector(".msn"),r=document.querySelector(".pages"),p=document.querySelector(".screen");(0,s.getLocalw)();let m=s.watchedLocalStorage.watchedId;m=null===localStorage.getItem("watched")?[]:JSON.parse(localStorage.getItem("watched")).watchedId;function h(e,t){if(0===e.length)i.textContent="No movies have been added to Watched list yet";else{const n=12*(t-1),a=n+12,s=e.slice(n,a);c.innerHTML="",s.forEach((e=>{p.style.display="flex",fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=undefined&language=en-US`).then((e=>e.json())).then((e=>d(e))).catch((e=>console.error(e))).finally((()=>p.style.display="none"))})),v(m,u,1)}}const u=Math.ceil(m.length/12),v=(e,t,n)=>{r.innerHTML="";const a=document.createElement("button");if(a.textContent="←",a.classList.add("pagebtn"),a.disabled=1===n,a.addEventListener("click",(()=>{n--,h(e,n),v(e,t,n)})),r.append(a),n>3){const a=document.createElement("button");a.textContent="1",a.classList.add("page"),a.addEventListener("click",(()=>{h(e,n=1),v(e,t,n)})),r.append(a)}if(n>4){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),r.append(e)}const s=Math.max(n-Math.floor(2.5),1),o=Math.max(n-5+1,1),l=Math.max(n-5+2,1);let d;d=n===t?o:n===t-1?l:s;const c=Math.min(d+5-1,t);for(let a=d;a<=c;a++){const s=document.createElement("button");s.classList.add("page"),s.textContent=a,s.disabled=a===n,a===n?s.classList.add("activePage"):s.classList.remove("activePage"),s.addEventListener("click",(()=>{h(e,n=a),v(e,t,n)})),r.append(s)}if(n<t-3){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),r.append(e)}if(n<t-2){const a=document.createElement("button");a.textContent=t,a.classList.add("page"),a.addEventListener("click",(()=>{h(e,n=t),v(e,t,n)})),r.append(a)}const i=document.createElement("button");i.textContent="→",i.classList.add("pagebtn"),i.disabled=n===t,i.addEventListener("click",(()=>{n++,h(e,n),v(e,t,n)})),r.append(i)};r.innerHTML="",h(m,1);
//# sourceMappingURL=mylibrary.04e81932.js.map
