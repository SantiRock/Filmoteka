{"mappings":"AAAA,MAAMA,EAAQC,SAASC,cAAc,U,IA2BrCC,EAzBA,SAAqBC,GACjB,MAGMC,EAAaD,EAAKE,YAAc,kCAAkCF,EAAKE,cACvE,+DACAC,EAAQH,EAAKG,MAAMC,cACnBC,EAAOL,EAAKM,aAAaC,QAAQ,GACjCC,EAAOR,EAAKS,aAAaC,MAAM,EAAE,GACvC,IAAIC,EAASX,EAAKW,OAAOC,KAAIC,GAASA,EAAMC,OAAMC,KAAK,MAEvD,MAAMC,EAAOnB,SAASoB,cAAc,OAEpCrB,EAAMsB,OAAOF,GAEb,IAAIG,EAAS,wCACoBlB,SAAkBE,iEACzBA,wCACEQ,OAAYH,uCACbH,gBAG3BW,EAAKI,UAAYD,C,ECpBrB,MAAME,EAAUxB,SAASC,cAAc,YACjCwB,EAAQzB,SAASC,cAAc,UAC/ByB,EAAQ1B,SAASC,cAAc,UAMrCuB,EAAQG,iBAAiB,SAAUC,IAC/BA,EAAMC,iBACNL,EAAQM,UAAUC,IAAI,YACtBN,EAAMK,UAAUE,OAAO,YACvBC,EAAgBC,EARF,GASdC,EAAWD,EAAYE,EATT,EASkC,IAGpDX,EAAME,iBAAiB,SAAUC,IAC7BA,EAAMC,iBACNJ,EAAMK,UAAUC,IAAI,YACpBP,EAAQM,UAAUE,OAAO,YACzBC,EAAgBI,EAhBF,GAiBdF,EAAWE,EAAUC,EAjBP,EAiBgC,IAMlDC,aAAaC,QAAQ,UAAWC,KAAKC,UAFT,CAAEC,UAAW,CAAC,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,OAAQ,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,WAGhJJ,aAAaC,QAAQ,QAASC,KAAKC,UAFT,CAAEE,QAAS,CAAC,OAAQ,MAAO,OAAQ,OAAQ,OAAQ,OAAQ,WAOrF,MAAMP,EAAWI,KAAKI,MAAMN,aAAaO,QAAQ,UAAUF,QACrDV,EAAaO,KAAKI,MAAMN,aAAaO,QAAQ,YAAYH,UAG/D,SAASV,EAAgBc,EAAKC,GAC1B,MAAMC,EAnCW,IAmCGD,EAAO,GACrBE,EAAWD,EApCA,GAqCXE,EAAiBJ,EAAIlC,MAAMoC,EAAYC,GAC7CxB,EAAMH,UAAY,GAClB4B,EAAeC,SAAQC,IACnBC,MAAM,sCAAsCD,6DAC3CE,MAAKC,GAAYA,EAASC,SAC1BF,MAAKpD,GAAQD,EAAYC,KACzBuD,OAAMC,GAASC,QAAQD,MAAMA,IAAO,G,CAK7C1B,EAAgBC,EA/CE,GAyDlB,MAAME,EAAcyB,KAAKC,KAAK5B,EAAW6B,OA1DpB,IA2DfzB,EAAcuB,KAAKC,KAAKzB,EAAS0B,OA3DlB,IA6DfC,EAAQhE,SAASC,cAAc,UAG/BkC,GAFOnC,SAASC,cAAc,YAEjB,CAAC8C,EAAKkB,EAAYC,KACjCF,EAAMzC,UAAY,GAElB,MAAM4C,EAAUnE,SAASoB,cAAc,UACvC+C,EAAQC,YAAc,IAEtBD,EAAQrC,UAAUC,IAAI,WACtBoC,EAAQE,SAA2B,IAAhBH,EACnBC,EAAQxC,iBAAiB,SAAS,KAC9BuC,IACAjC,EAAgBc,EAAKmB,GACrB/B,EAAWY,EAAKkB,EAAYC,EAAY,IAE5CF,EAAM3C,OAAO8C,GAEb,MAAMG,EAAQtE,SAASoB,cAAc,UACrCkD,EAAMF,YAAc,IACpBE,EAAMxC,UAAUC,IAAI,QACpBuC,EAAMC,QAA0B,IAAhBL,EAChBI,EAAM3C,iBAAiB,SAAS,KAE5BM,EAAgBc,EADhBmB,EAAc,GAEd/B,EAAWY,EAAKkB,EAAYC,EAAY,IAE5CF,EAAM3C,OAAOiD,GAEb,MAAME,EAAOxE,SAASoB,cAAc,OACpCoD,EAAKJ,YAAc,MACnBI,EAAK1C,UAAUC,IAAI,QACnBiC,EAAM3C,OAAOmD,GAEb,MAAMC,EAAMZ,KAAKa,IAAIR,EAAcL,KAAKc,MAAMC,KAAgB,GACxDC,EAAMhB,KAAKa,IAAIR,EApCL,EAoCiC,EAAG,GAC9CY,EAAMjB,KAAKa,IAAIR,EArCL,EAqCiC,EAAG,GAEpD,IAAIa,EACyBA,EAA7Bb,IAAgBD,EAAyBY,EACvCX,IAAgBD,EAAa,EAAgBa,EAAkBL,EAEjE,MAAMO,EAAUnB,KAAKoB,IAAIF,EA3CT,EA2CmC,EAAGd,GACtD,IAAI,IAAIiB,EAAIH,EAAWG,GAAKF,EAASE,IAAK,CACxC,MAAMC,EAAanF,SAASoB,cAAc,UAC1C+D,EAAWrD,UAAUC,IAAI,QACzBoD,EAAWf,YAAcc,EACzBC,EAAWZ,QAAUW,IAAMhB,EAE3BgB,IAAMhB,EAAciB,EAAWrD,UAAUC,IAAI,cAAgBoD,EAAWrD,UAAUE,OAAO,cAEzFmD,EAAWxD,iBAAiB,SAAS,KAEnCM,EAAgBc,EADhBmB,EAAcgB,GAEd/C,EAAWY,EAAKkB,EAAYC,EAAY,IAE1CF,EAAM3C,OAAO8D,E,CAGf,MAAMC,EAAQpF,SAASoB,cAAc,OACrCgE,EAAMhB,YAAc,MACpBgB,EAAMtD,UAAUC,IAAI,QACpBiC,EAAM3C,OAAO+D,GAEb,MAAMC,EAAOrF,SAASoB,cAAc,UACpCiE,EAAKjB,YAAcH,EACnBoB,EAAKvD,UAAUC,IAAI,QACnBsD,EAAKd,QAAUL,IAAgBD,EAC/BoB,EAAK1D,iBAAiB,SAAS,KAE3BM,EAAgBc,EADhBmB,EAAcD,GAEd9B,EAAWY,EAAKkB,EAAYC,EAAY,IAE5CF,EAAM3C,OAAOgE,GAEb,MAAMC,EAAUtF,SAASoB,cAAc,UACvCkE,EAAQlB,YAAc,IACtBkB,EAAQxD,UAAUC,IAAI,WACtBuD,EAAQjB,SAAWH,IAAgBD,EACnCqB,EAAQ3D,iBAAiB,SAAS,KAC9BuC,IACAjC,EAAgBc,EAAKmB,GACrB/B,EAAWY,EAAKkB,EAAYC,EAAY,IAE5CF,EAAM3C,OAAOiE,EAAQ,GAGzBnD,EAAWD,EAAYE,EAnJL","sources":["src/js/librarycard.js","src/js/mylibrary.js"],"sourcesContent":["const films = document.querySelector('.films');\n\nfunction renderFilms(film) {\n    const baseUrl = 'https://image.tmdb.org/t/p/';\n    const posterSize = 'w500';\n    // 'w92', 'w185', 'w500',\n    const posterPath = film.poster_path ? `https://image.tmdb.org/t/p/w500${film.poster_path}` \n        : 'https://via.placeholder.com/500x750?text=No+poster+available';\n    const title = film.title.toUpperCase();\n    const rate = film.vote_average.toFixed(1);\n    const year = film.release_date.slice(0,4);\n    let genres = film.genres.map(genre => genre.name).join(', ');\n\n    const card = document.createElement('div');\n    //card.classList.add('card');\n    films.append(card);\n\n    let markup = `\n    <img class='films__poster' src=${posterPath} alt=${title} loading='lazy' class='poster'>\n    <p class='films__title'>${title}</p>\n    <p class='films__details'>${genres} | ${year}</p>\n    <div class='films__rate'>${rate}</div>\n    `;\n\n    card.innerHTML = markup;     \n};\n\nexport default renderFilms;","import '../sass/index.scss';\nimport renderFilms from './librarycard';\n\n// DOM -----\nconst watched = document.querySelector('.watched');\nconst queue = document.querySelector('.queue');\nconst films = document.querySelector('.films');\nconst itemsPerPage = 12;\nlet currentPage = 1;\n\n\n// Event Listeners ---\nwatched.addEventListener('click', (event) => {\n    event.preventDefault();\n    watched.classList.add('selected');\n    queue.classList.remove('selected');\n    getLocalStorage(watchedIds, currentPage);\n    pagination(watchedIds, totalPagesW, currentPage);\n});\n\nqueue.addEventListener('click', (event) => {\n    event.preventDefault();\n    queue.classList.add('selected');\n    watched.classList.remove('selected');\n    getLocalStorage(queueIds, currentPage);\n    pagination(queueIds, totalPagesQ, currentPage);\n});\n\n// Local Storage Example\nconst watchedLocalStorage = { watchedId: [76600, 726759, 638974, 677179, 849869, 603692, 493529, 447365, 83121, 816904, 997317, 346698, 739405, 932430] };\nconst queueLocalStorage = { queueId: [447365, 83121, 816904, 997317, 346698, 739405, 932430] };\nlocalStorage.setItem('watched', JSON.stringify(watchedLocalStorage));\nlocalStorage.setItem('queue', JSON.stringify(queueLocalStorage));\n\n\n// Local Storage Manage  ---\n\nconst queueIds = JSON.parse(localStorage.getItem('queue')).queueId;\nconst watchedIds = JSON.parse(localStorage.getItem('watched')).watchedId;\nconst apiKey = '0a3a4e00d84de20a8f1b6dfc8a7cdfd5';\n\nfunction getLocalStorage(arr, page) {\n    const startIndex = (page - 1) * itemsPerPage;\n    const endIndex = startIndex + itemsPerPage;\n    const itemsToDisplay = arr.slice(startIndex, endIndex)\n    films.innerHTML = '';\n    itemsToDisplay.forEach(movie_id => {\n        fetch(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${apiKey}&language=en-US`)\n        .then(response => response.json())\n        .then(film => renderFilms(film))\n        .catch(error => console.error(error));\n    })\n }\n\n// Render by default\ngetLocalStorage(watchedIds, currentPage);\n\n// Pagination\n\nlet markup = `\n<svg class=\"psvg\">\n  <use href=\"./images/symbol-defs.svg#icon-Arrow-left\">\n</svg>\n`;\n\nconst totalPagesW = Math.ceil(watchedIds.length / itemsPerPage);\nconst totalPagesQ = Math.ceil(queueIds.length / itemsPerPage);\nconst pagesToShow = 5;\nconst pages = document.querySelector('.pages');\nconst pbtn = document.querySelector('.prevbtn');\n\nconst pagination = (arr, totalPages, currentPage) => {\n    pages.innerHTML = '';\n\n    const prevBtn = document.createElement('button');\n    prevBtn.textContent = '←';\n    //prevBtn.innerHTML = markup;\n    prevBtn.classList.add('pagebtn');\n    prevBtn.disabled = currentPage === 1;\n    prevBtn.addEventListener('click', () => {\n        currentPage--;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(prevBtn);\n\n    const first = document.createElement('button');\n    first.textContent = '1';\n    first.classList.add('page');\n    first.disable = currentPage === 1;\n    first.addEventListener('click', () => {\n        currentPage = 1;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(first);\n\n    const dots = document.createElement('div');\n    dots.textContent = '...';\n    dots.classList.add('dots');\n    pages.append(dots);\n\n    const st1 = Math.max(currentPage - Math.floor(pagesToShow/2), 1);\n    const st2 = Math.max(currentPage - pagesToShow + 1, 1);\n    const st3 = Math.max(currentPage - pagesToShow + 2, 1);\n\n    let startPage;\n    currentPage === totalPages ? startPage = st2 \n    : currentPage === totalPages - 1 ? startPage = st3 : startPage = st1;\n    \n    const endPage = Math.min(startPage + pagesToShow - 1, totalPages);\n    for(let i = startPage; i <= endPage; i++) {\n      const pageButton = document.createElement('button');\n      pageButton.classList.add('page');\n      pageButton.textContent = i;\n      pageButton.disable = i === currentPage;\n\n      i === currentPage ? pageButton.classList.add('activePage') : pageButton.classList.remove('activePage');\n\n      pageButton.addEventListener('click', () => {\n        currentPage = i;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n      });\n      pages.append(pageButton);\n    };\n\n    const dots1 = document.createElement('div');\n    dots1.textContent = '...';\n    dots1.classList.add('dots');\n    pages.append(dots1);\n\n    const last = document.createElement('button');\n    last.textContent = totalPages;\n    last.classList.add('page');\n    last.disable = currentPage === totalPages\n    last.addEventListener('click', () => {\n        currentPage = totalPages;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(last);\n\n    const nextBtn = document.createElement('button');\n    nextBtn.textContent = '→';\n    nextBtn.classList.add('pagebtn');\n    nextBtn.disabled = currentPage === totalPages;\n    nextBtn.addEventListener('click', () => {\n        currentPage++;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(nextBtn);\n}\n\npagination(watchedIds, totalPagesW, currentPage);\n\n\n\n// Tests\n/*\n const url = `https://api.themoviedb.org/3/trending/all/day?api_key=${apiKey}`;\n fetch(url)\n .then(response => response.json())\n .then(data => getID(data.results))\n .catch(error => console.error(error));\n\nfunction getID(data) {\n    data.forEach(film => console.log(film.id))\n}\n*/\n\n"],"names":["$cd7e5924aa0d981e$var$films","document","querySelector","$cd7e5924aa0d981e$export$2e2bcd8739ae039","film","posterPath","poster_path","title","toUpperCase","rate","vote_average","toFixed","year","release_date","slice","genres","map","genre","name","join","card","createElement","append","markup","innerHTML","$ad8c01af5b9c46e5$var$watched","$ad8c01af5b9c46e5$var$queue","$ad8c01af5b9c46e5$var$films","addEventListener","event","preventDefault","classList","add","remove","$ad8c01af5b9c46e5$var$getLocalStorage","$ad8c01af5b9c46e5$var$watchedIds","$ad8c01af5b9c46e5$var$pagination","$ad8c01af5b9c46e5$var$totalPagesW","$ad8c01af5b9c46e5$var$queueIds","$ad8c01af5b9c46e5$var$totalPagesQ","localStorage","setItem","JSON","stringify","watchedId","queueId","parse","getItem","arr","page","startIndex","endIndex","itemsToDisplay","forEach","movie_id","fetch","then","response","json","catch","error","console","Math","ceil","length","$ad8c01af5b9c46e5$var$pages","totalPages","currentPage1","prevBtn","textContent","disabled","first","disable","dots","st1","max","floor","$ad8c01af5b9c46e5$var$pagesToShow","st2","st3","startPage","endPage","min","i","pageButton","dots1","last","nextBtn"],"version":3,"file":"mylibrary.8c2efe94.js.map"}