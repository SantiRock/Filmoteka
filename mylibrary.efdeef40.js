const e={watchedId:[]},t={queueId:[]};function a(){null===localStorage.getItem("queue")?t.watchedId=[]:t.queueId=JSON.parse(localStorage.getItem("queue")).queueId}function n(){null===localStorage.getItem("watched")?e.watchedId=[]:e.watchedId=JSON.parse(localStorage.getItem("watched")).watchedId}a(),n();var l=function(e){const t=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available",a=e.title.toUpperCase(),n=e.vote_average.toFixed(1);let l=e.genres.map((e=>e.name)).join(", ");const o=document.querySelector(".modalw"),s=`\n      <div class="modal-header">\n        <button class="modal-close">&times;</button>\n      </div>\n      <div>\n        <img class="modal-poster" src="${t}" alt="${a}">\n      </div>\n      <div>\n        <h2 class="modal-title">${a}</h2>\n        <p class="modal-info">Vote Count: ${n} | ${e.vote_count}<br>Popularity: ${e.popularity}<br>Original Title: ${e.original_title}<br>Genre: ${l}</p>\n        <p class="modal-about"><b>ABOUT</b><br>${e.overview}</p>\n        <div class="modal-buttons">\n          <button class="watch-btn">ADD TO WATCHED</button>\n          <button class="queue-btn">ADD TO QUEUE</button>\n        </div>\n      </div>\n    `,d=document.createElement("div");d.innerHTML=s,d.classList.add("modal-content"),o.appendChild(d),o.style.display="flex",d.querySelector(".modal-close").addEventListener("click",(()=>{o.style.display="none",d.remove()}));const c=d.querySelector(".watch-btn"),i=d.querySelector(".queue-btn");c.disabled,i.disabled,c.addEventListener("click",(()=>{})),i.addEventListener("click",(()=>{})),o.addEventListener("click",(e=>{e.target===o&&(o.style.display="flex",d.remove())}))};const o=document.querySelector(".films");var s=function(e){const t=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available",a=e.title.toUpperCase(),n=e.vote_average.toFixed(1),s=e.release_date.slice(0,4);let d=e.genres.map((e=>e.name)).join(", ");const c=document.createElement("div");c.classList.add("films__card");let i=`\n    <img class='films__poster' src=${t} alt=${a} loading='lazy' class='poster'>\n    <p class='films__title'>${a}</p>\n    <p class='films__details'>${d} | ${s}</p>\n    <div class='films__rate'>${n}</div>\n    `;c.innerHTML=i,o.appendChild(c),c.addEventListener("click",(()=>{l(e)}))};const d=document.querySelector(".pages"),c=(e,t,a)=>{d.innerHTML="";const n=document.createElement("button");n.textContent="←",n.classList.add("pagebtn"),n.disabled=1===a,n.addEventListener("click",(()=>{a--,getLocalStorage(e,a),c(e,t,a)})),d.append(n);const l=document.createElement("button");l.textContent="1",l.classList.add("page"),l.disabled=1===a,l.addEventListener("click",(()=>{a=1,getLocalStorage(e,a),c(e,t,a)})),d.append(l);const o=document.createElement("div");o.textContent="...",o.classList.add("dots"),d.append(o);const s=Math.max(a-Math.floor(2.5),1),i=Math.max(a-5+1,1),r=Math.max(a-5+2,1);let u;u=a===t?i:a===t-1?r:s;const m=Math.min(u+5-1,t);for(let n=u;n<=m;n++){const l=document.createElement("button");l.classList.add("page"),l.textContent=n,l.disabled=n===a,n===a?l.classList.add("activePage"):l.classList.remove("activePage"),l.addEventListener("click",(()=>{a=n,getLocalStorage(e,a),c(e,t,a)})),d.append(l)}const p=document.createElement("div");p.textContent="...",p.classList.add("dots"),d.append(p);const g=document.createElement("button");g.textContent=t,g.classList.add("page"),g.disabled=a===t,g.addEventListener("click",(()=>{a=t,getLocalStorage(e,a),c(e,t,a)})),d.append(g);const v=document.createElement("button");v.textContent="→",v.classList.add("pagebtn"),v.disabled=a===t,v.addEventListener("click",(()=>{a++,getLocalStorage(e,a),c(e,t,a)})),d.append(v)};var i=c;const r=document.querySelector(".watched"),u=document.querySelector(".queue"),m=document.querySelector(".films"),p=document.querySelector(".msn"),g=document.querySelector(".pages"),v=document.querySelector(".screen");console.log(localStorage),a(),n();let h=t.queueId,b=e.watchedId;h=null===localStorage.getItem("queue")?[]:JSON.parse(localStorage.getItem("queue")).queueId,b=null===localStorage.getItem("watched")?[]:JSON.parse(localStorage.getItem("watched")).watchedId,r.addEventListener("click",(e=>{e.preventDefault(),r.classList.add("selected"),u.classList.remove("selected"),0===b.length?(m.innerHTML="",p.textContent="No movies have been added to Watched list yet",g.innerHTML=""):(L(b,1),i(b,S,1))})),u.addEventListener("click",(e=>{e.preventDefault(),u.classList.add("selected"),r.classList.remove("selected"),0===h.length?(m.innerHTML="",p.textContent="No movies have been added to Queue list yet",g.innerHTML=""):(L(h,1),i(h,y,1))}));function L(e,t){if(0===e.length)p.textContent="No movies have been added to Watched list yet";else{const a=12*(t-1),n=a+12,l=e.slice(a,n);m.innerHTML="",l.forEach((e=>{v.style.display="flex",fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&language=en-US`).then((e=>e.json())).then((e=>s(e))).catch((e=>console.error(e))).finally((()=>v.style.display="none"))})),i(b,S,1)}}const S=Math.ceil(b.length/12),y=Math.ceil(h.length/12);g.innerHTML="",L(b,1);
//# sourceMappingURL=mylibrary.efdeef40.js.map
