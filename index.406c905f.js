function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=t.parcelRequired7c6;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){a[e]=t},t.parcelRequired7c6=o),o.register("btpe3",(function(t,n){e(t.exports,"render",(function(){return r})),e(t.exports,"paginationH",(function(){return i}));var a=o("7cEWj");console.log(localStorage);let s=1,l=50;const d=document.querySelector(".screen");const r=()=>{(d.style.display="flex",fetch(`https://api.themoviedb.org/3/trending/all/week?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&per_page=18&page=${s}`).then((e=>{if(!e.ok)throw d.style.display="none",new Error(e.status);return e.json()})).finally((()=>d.style.display="none"))).then((e=>(0,a.default)(e)))};r();const c=document.querySelector(".pages"),i=()=>{c.innerHTML="";const e=document.createElement("button");e.textContent="←",e.classList.add("pagebtn"),e.disabled=1===s,e.addEventListener("click",(()=>{s--,r(),i()})),c.append(e);const t=document.createElement("button");t.textContent="1",t.classList.add("page"),t.disabled=1===s,t.addEventListener("click",(()=>{s=1,r(),i()})),c.append(t);const n=document.createElement("div");n.textContent="...",n.classList.add("dots"),c.append(n);const a=Math.max(s-Math.floor(2.5),1),o=Math.max(s-5+1,1),d=Math.max(s-5+2,1);let u;u=s===l?o:49===s?d:a;const p=Math.min(u+5-1,l);for(let e=u;e<=p;e++){const t=document.createElement("button");t.classList.add("page"),t.textContent=e,t.disabled=e===s,e===s?t.classList.add("activePage"):t.classList.remove("activePage"),t.addEventListener("click",(()=>{s=e,r(),i()})),c.append(t)}const m=document.createElement("div");m.textContent="...",m.classList.add("dots"),c.append(m);const g=document.createElement("button");g.textContent=l,g.classList.add("page"),g.disabled=s===l,g.addEventListener("click",(()=>{s=l,r(),i()})),c.append(g);const f=document.createElement("button");f.textContent="→",f.classList.add("pagebtn"),f.disabled=s===l,f.addEventListener("click",(()=>{s++,r(),i()})),c.append(f)};i()})),o.register("7cEWj",(function(t,n){e(t.exports,"default",(function(){return d}));var a=o("ezyJp"),s=o("bTcpz");const l=document.querySelector(".films");var d=function e(t){l.innerHTML="",0===a.genresArr.length&&(0,a.loadGenres)().then((()=>{e(t)})),t.results.slice(0,12).map((e=>{const t=e.genre_ids,n=[];for(let e=0;e<t.length;e++){let o=a.genresArr.find((n=>n.id===t[e]));o&&n.push(o.name)}const o=n.join(", "),d=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available",r=document.createElement("div");r.classList.add("films__card"),r.innerHTML=`\n        <img class= "films__poster" src=${d}></> \n        <p class= "films__title">${e.title||e.name}</p>\n        <p class= "films__details">${o} | ${e.release_date&&e.release_date.slice(0,4)||e.first_air_date.slice(0,4)}</p>\n        <div class='films__rate'>${e.vote_average.toFixed(1)}</div>\n    `,l.appendChild(r),r.addEventListener("click",(()=>{(0,s.default)(e)}))})).join("")}})),o.register("ezyJp",(function(t,n){e(t.exports,"genresArr",(function(){return a})),e(t.exports,"loadGenres",(function(){return o}));let a=[];function o(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>(a=e.genres,a)))}})),o.register("bTcpz",(function(t,n){e(t.exports,"default",(function(){return l}));var a=o("bOFJ0"),s=o("ezyJp");var l=function(e){const t=document.querySelector(".modalw"),n=(e.title||e.name).toUpperCase(),o=(e.original_title||e.name).toUpperCase(),l=e.popularity.toFixed(1),d=e.vote_average.toFixed(1),r=e.genre_ids,c=[];for(let e=0;e<r.length;e++){let t=s.genresArr.find((t=>t.id===r[e]));t&&c.push(t.name)}const i=c.join(", "),u=`\n      <div class="modal-header">\n        \n        <button class="modal-close">&times;</button>\n      </div>\n      <div class='poster_container'>\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${n}">\n      </div>\n      <div class='info'>\n        <h3 class="modal-title">${n}</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>${d}</span> / ${e.vote_count}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>${l}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>${o}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>${i}</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>${e.overview}</p>\n          <div class="modal-btns">\n            <button class="btnmodal addw">ADD TO WATCHED</button>\n            <button class="btnmodal addq">ADD TO QUEUE</button>\n        </div>\n      </div>\n    `,p=document.createElement("div");p.innerHTML=u,p.classList.add("modal-content"),t.appendChild(p),t.style.display="flex",p.querySelector(".modal-close").addEventListener("click",(()=>{t.style.display="none",p.remove()}));const m=a.watchedLocalStorage.watchedId,g=a.queueLocalStorage.queueId,f=p.querySelector(".addw"),h=p.querySelector(".addq");m.includes(e.id)?(f.classList.add("btnmodal2"),f.classList.remove("btnmodal"),f.textContent="REMOVE FROM WATCHED",f.addEventListener("click",(()=>{const t=m.indexOf(e.id);m.splice(t,1),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),f.classList.add("btnmodal"),f.classList.remove("btnmodal2"),f.textContent="ADD TO WATCHED",window.location.reload(),console.log(localStorage)}))):f.addEventListener("click",(()=>{if(m.push(e.id),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),g.includes(e.id)){const t=g.indexOf(e.id);g.splice(t,1),localStorage.setItem("queue",JSON.stringify(a.queueLocalStorage))}f.classList.add("btnmodal2"),f.classList.remove("btnmodal"),f.textContent="REMOVE FROM WATCHED",window.location.reload(),console.log(localStorage)})),g.includes(e.id)?(h.classList.add("btnmodal2"),h.classList.remove("btnmodal"),h.textContent="REMOVE FROM QUEUE",h.addEventListener("click",(()=>{const t=g.indexOf(e.id);g.splice(t,1),localStorage.setItem("queue",JSON.stringify(a.queueLocalStorage)),h.classList.add("btnmodal"),h.classList.remove("btnmodal2"),h.textContent="ADD TO QUEUE",location.reload(),console.log(localStorage)}))):h.addEventListener("click",(()=>{if(g.push(e.id),localStorage.setItem("queue",JSON.stringify(a.queueLocalStorage)),h.classList.add("btnmodal2"),h.classList.remove("btnmodal"),h.textContent="REMOVE FORM QUEUE",m.includes(e.id)){const t=m.indexOf(e.id);m.splice(t,1),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage))}location.reload(),console.log(localStorage)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(t.style.display="none",p.remove())})),document.addEventListener("click",(e=>{e.target===t&&(t.style.display="none",p.remove())}))}})),o.register("bOFJ0",(function(t,n){e(t.exports,"watchedLocalStorage",(function(){return a})),e(t.exports,"queueLocalStorage",(function(){return o})),e(t.exports,"getLocalq",(function(){return s})),e(t.exports,"getLocalw",(function(){return l}));const a={watchedId:[]},o={queueId:[]};function s(){null===localStorage.getItem("queue")?o.watchedId=[]:o.queueId=JSON.parse(localStorage.getItem("queue")).queueId}function l(){null===localStorage.getItem("watched")?a.watchedId=[]:a.watchedId=JSON.parse(localStorage.getItem("watched")).watchedId}s(),l()})),o("btpe3");
//# sourceMappingURL=index.406c905f.js.map
