function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire4383;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequire4383=o);var a,i={};i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var s,c={},l={};s="object"==typeof t&&t&&t.Object===Object&&t;var d="object"==typeof self&&self&&self.Object===Object&&self,u=s||d||Function("return this")();c=function(){return l.Date.now()};var f={},p={},v={},m=/\s/;v=function(e){for(var t=e.length;t--&&m.test(e.charAt(t)););return t};var y=/^\s+/;p=function(e){return e?e.slice(0,v(e)+1).replace(y,""):e};var b,g={},h={};b=(l=u).Symbol;var x={},_=Object.prototype,E=_.hasOwnProperty,L=_.toString,T=b?b.toStringTag:void 0;x=function(e){var t=E.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(e){}var o=L.call(e);return r&&(t?e[T]=n:delete e[T]),o};var j={},w=Object.prototype.toString;j=function(e){return w.call(e)};var M=b?b.toStringTag:void 0;h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":M&&M in Object(e)?x(e):j(e)};var O={};O=function(e){return null!=e&&"object"==typeof e};g=function(e){return"symbol"==typeof e||O(e)&&"[object Symbol]"==h(e)};var S=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,$=/^0o[0-7]+$/i,N=parseInt;f=function(e){if("number"==typeof e)return e;if(g(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=p(e);var n=C.test(e);return n||$.test(e)?N(e.slice(2),n?2:8):S.test(e)?NaN:+e};var q=Math.max,k=Math.min;a=function(e,t,n){var r,o,a,s,l,d,u=0,p=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,a=o;return r=o=void 0,u=t,s=e.apply(a,n)}function b(e){return u=e,l=setTimeout(h,t),p?y(e):s}function g(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-u>=a}function h(){var e=c();if(g(e))return x(e);l=setTimeout(h,function(e){var n=t-(e-d);return v?k(n,a-(e-u)):n}(e))}function x(e){return l=void 0,m&&r?y(e):(r=o=void 0,s)}function _(){var e=c(),n=g(e);if(r=arguments,o=this,d=e,n){if(void 0===l)return b(d);if(v)return clearTimeout(l),l=setTimeout(h,t),y(d)}return void 0===l&&(l=setTimeout(h,t)),s}return t=f(t)||0,i(n)&&(p=!!n.leading,a=(v="maxWait"in n)?q(f(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=d=o=l=void 0},_.flush=function(){return void 0===l?s:x(c())},_};var H=o("ezyJp"),D=o("bTcpz"),U=o("btpe3");const A=document.getElementById("search-input"),F=document.querySelector(".search-button"),P=document.querySelector(".errormsn"),z=document.querySelector(".films"),B=document.querySelector(".pages"),I=document.querySelector(".erroc");let R="",W=1,G=50;const J=document.querySelector(".screen");function K(){return J.style.display="flex",fetch(`https://api.themoviedb.org/3/search/movie?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&query=${R}&page=${W}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{0===e.total_results?(B.innerHTML="",P.textContent="Search result not successful. Enter the correct movie name and try again",z.innerHTML="",I.style.display="block"):(G=e.total_pages,P.textContent="",I.style.display="none",Q(e),V())})).catch((e=>console.error(e))).finally((()=>J.style.display="none"))}function Q(e){z.innerHTML="";const t=e.results.slice(0,12);0===H.genresArr.length&&(0,H.loadGenres)().then((()=>{Q(e)})),t.forEach((e=>{const t=e.genre_ids,n=[];for(let e=0;e<t.length;e++){let r=H.genresArr.find((n=>n.id===t[e]));r&&n.push(r.name)}const r=n.join(", "),o=document.createElement("div");o.classList.add("films__card");e.genre_ids.map((e=>e)).join(", ");const a=e.release_date.slice(0,4),i=e.vote_average.toFixed(1),s=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available";o.innerHTML=`\n        <img src="${s}" alt="${e.title}" class="films__poster">\n        <p class="films__title">${e.title}</p>\n        <p class='films__details'>${r} | ${a}</p>\n        <div class='films__rate'>${i}</div>\n        `,z.appendChild(o),o.addEventListener("click",(()=>{(0,D.default)(e)}))}))}A.addEventListener("keydown",e(a)((()=>{W=1,R=A.value.trim(),""===R?(P.textContent="",I.style.display="none",W=1,(0,U.render)(),(0,U.paginationH)()):K()}),300)),B.addEventListener("click",(e=>{const t=e.target;"BUTTON"===t.tagName&&("prev"===t.id&&W>1?(W--,K()):"first"===t.id&&W>1?(W=1,K()):"next"===t.id&&W<G?(W++,K()):"last"===t.id&&W<G?(W=G,K()):"prev"!==t.id&&"next"!==t.id&&t.id&&(W=Number(t.id),K()))}));const V=()=>{B.innerHTML="";const e=document.createElement("button");e.textContent="←",e.classList.add("pagebtn"),e.id="prev",e.disabled=1===W,B.append(e);const t=document.createElement("button");t.textContent="1",t.classList.add("page"),t.id="first",t.disabled=1===W,B.append(t);const n=document.createElement("div");n.textContent="...",n.classList.add("dots"),B.append(n);const r=Math.max(W-Math.floor(2.5),1),o=Math.max(W-5+1,1),a=Math.max(W-5+2,1);let i;i=W===G?o:W===G-1?a:r;const s=Math.min(i+5-1,G);for(let e=i;e<=s;e++){const t=document.createElement("button");t.classList.add("page"),t.id=e,t.textContent=e,t.disabled=e===W,e===W?t.classList.add("activePage"):t.classList.remove("activePage"),B.append(t)}const c=document.createElement("div");c.textContent="...",c.classList.add("dots"),B.append(c);const l=document.createElement("button");l.textContent=G,l.classList.add("page"),l.id="last",l.disabled=W===G,B.append(l);const d=document.createElement("button");d.textContent="→",d.classList.add("pagebtn"),d.id="next",d.disabled=W===G,B.append(d)};F.addEventListener("click",(e=>{e.preventDefault()}));
//# sourceMappingURL=index.ba9a0f59.js.map
