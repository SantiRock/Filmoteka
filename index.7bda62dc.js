function e(e,t,n,a){Object.defineProperty(e,t,{get:n,set:a,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},s=t.parcelRequire4383;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){a[e]=t},t.parcelRequire4383=s),s.register("btpe3",(function(t,n){e(t.exports,"render",(function(){return d})),e(t.exports,"paginationH",(function(){return c}));var a=s("7cEWj");s("isoaK").config();let o=1,r=500;const i=document.querySelector(".screen");const d=()=>{(i.style.display="flex",fetch(`https://api.themoviedb.org/3/trending/movie/week?api_key=0a3a4e00d84de20a8f1b6dfc8a7cdfd5&per_page=18&page=${o}`).then((e=>{if(!e.ok)throw i.style.display="none",new Error(e.status);return e.json()})).finally((()=>i.style.display="none"))).then((e=>(0,a.default)(e)))};d();const l=document.querySelector(".pages"),c=()=>{l.innerHTML="";const e=document.createElement("button");if(e.textContent="←",e.classList.add("pagebtn"),e.disabled=1===o,e.addEventListener("click",(()=>{o--,d(),c()})),l.append(e),o>3){const e=document.createElement("button");e.textContent="1",e.classList.add("page"),e.disabled=1===o,e.addEventListener("click",(()=>{o=1,d(),c()})),l.append(e)}if(o>4){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),l.append(e)}const t=Math.max(o-Math.floor(2.5),1),n=Math.max(o-5+1,1),a=Math.max(o-5+2,1);let s;s=o===r?n:499===o?a:t;const i=Math.min(s+5-1,r);for(let e=s;e<=i;e++){const t=document.createElement("button");t.classList.add("page"),t.textContent=e,t.disabled=e===o,e===o?t.classList.add("activePage"):t.classList.remove("activePage"),t.addEventListener("click",(()=>{o=e,d(),c()})),l.append(t)}if(o<497){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),l.append(e)}if(o<498){const e=document.createElement("button");e.textContent=r,e.classList.add("page"),e.disabled=o===r,e.addEventListener("click",(()=>{o=r,d(),c()})),l.append(e)}const p=document.createElement("button");p.textContent="→",p.classList.add("pagebtn"),p.disabled=o===r,p.addEventListener("click",(()=>{o++,d(),c()})),l.append(p)};c()})),s.register("7cEWj",(function(t,n){e(t.exports,"default",(function(){return i}));var a=s("ezyJp"),o=s("bTcpz");const r=document.querySelector(".films");var i=function e(t){r.innerHTML="",0===a.genresArr.length&&(0,a.loadGenres)().then((()=>{e(t)})),t.results.slice(0,18).map((e=>{const t=e.genre_ids,n=[];for(let e=0;e<t.length;e++){let s=a.genresArr.find((n=>n.id===t[e]));s&&n.push(s.name)}const s=n.join(", "),i=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available",d=document.createElement("div");d.classList.add("films__card"),d.innerHTML=`\n        <img class= "films__poster" src=${i}></> \n        <p class= "films__title">${e.title||e.name}</p>\n        <p class= "films__details">${s} | ${e.release_date&&e.release_date.slice(0,4)||e.first_air_date.slice(0,4)}</p>\n        <div class='films__rate'>${e.vote_average.toFixed(1)}</div>\n    `,r.appendChild(d),d.addEventListener("click",(()=>{(0,o.default)(e)}))})).join("")}})),s.register("ezyJp",(function(t,n){e(t.exports,"genresArr",(function(){return a})),e(t.exports,"loadGenres",(function(){return o})),s("isoaK").config();let a=[];function o(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=undefined&language=en-US").then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>(a=e.genres,a)))}})),s.register("bTcpz",(function(t,n){e(t.exports,"default",(function(){return r}));var a=s("bOFJ0"),o=s("ezyJp");var r=function(e){const t=document.querySelector(".modalw"),n=(e.title||e.name).toUpperCase(),s=(e.original_title||e.name).toUpperCase(),r=e.popularity.toFixed(1),i=e.vote_average.toFixed(1),d=e.release_date&&e.release_date.slice(0,4)||e.first_air_date.slice(0,4),l=e.genre_ids,c=[];for(let e=0;e<l.length;e++){let t=o.genresArr.find((t=>t.id===l[e]));t&&c.push(t.name)}const p=c.join(", "),u=`\n      <div class="modal-header">\n        \n        <button class="modal-close">&times;</button>\n      </div>\n      <div class='poster_container'>\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${n}">\n      </div>\n      <div class='info'>\n        <h3 class="modal-title">${n}</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>${i}</span> / ${e.vote_count}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>${r}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>${s}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Year</th>\n            <th>${d}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>${p}</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>${e.overview}</p>\n          <div class="modal-btns">\n            <button class="btnmodal addw">ADD TO LIBRARY</button>\n        </div>\n      </div>\n    `,m=document.createElement("div");m.innerHTML=u,m.classList.add("modal-content"),t.appendChild(m),t.style.display="flex",m.querySelector(".modal-close").addEventListener("click",(()=>{t.style.display="none",m.remove()}));const f=a.watchedLocalStorage.watchedId,h=m.querySelector(".addw");f.includes(e.id)?(h.classList.add("btnmodal2"),h.classList.remove("btnmodal"),h.textContent="REMOVE FROM WATCHED",h.addEventListener("click",(()=>{const n=f.indexOf(e.id);f.splice(n,1),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),h.classList.add("btnmodal"),h.classList.remove("btnmodal2"),h.textContent="ADD TO LIBRARY",t.style.display="none",m.remove()}))):h.addEventListener("click",(()=>{f.push(e.id),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),h.classList.add("btnmodal2"),h.classList.remove("btnmodal"),h.textContent="REMOVE FROM LIBRARY",t.style.display="none",m.remove()})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&(t.style.display="none",m.remove())})),document.addEventListener("click",(e=>{e.target===t&&(t.style.display="none",m.remove())}))}})),s("btpe3");
//# sourceMappingURL=index.7bda62dc.js.map
