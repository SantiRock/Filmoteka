{"mappings":"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","sources":["src/js/localstorage.js","src/js/modal-library.js","src/js/librarycard.js","src/js/mylibrary.js"],"sourcesContent":["const watchedLocalStorage = { watchedId: [] };\nconst queueLocalStorage = { queueId: [] };\n\nfunction getLocalq () {\n    if (localStorage.getItem('queue') === null) {\n        queueLocalStorage.watchedId = [];\n    } else {\n        queueLocalStorage.queueId = JSON.parse(localStorage.getItem('queue')).queueId;\n    }\n}\n\nfunction getLocalw () {\n    if (localStorage.getItem('watched') === null) {\n        watchedLocalStorage.watchedId = [];\n    } else {\n        watchedLocalStorage.watchedId = JSON.parse(localStorage.getItem('watched')).watchedId;\n    }\n}\n\ngetLocalq();\ngetLocalw();\n\n\nexport {watchedLocalStorage, queueLocalStorage, getLocalw, getLocalq};","import { watchedLocalStorage, queueLocalStorage } from \"./localstorage\";\n\n\nfunction displayMovieDetails(movie) {\n  const modal = document.querySelector(\".modalw\");\n  const title1 = movie.title || movie.name;\n  const title = title1.toUpperCase();\n  const orgtitle1 = movie.original_title || movie.name;\n  const orgtitle = orgtitle1.toUpperCase();\n  //const orgtitle = 'hello'; \n  const popularity = movie.popularity.toFixed(1);\n  const rate = movie.vote_average.toFixed(1);\n  const genres = movie.genres.map(genre => genre.name).join(', ');\n    \n    const modalContent = `\n      <div class=\"modal-header\">\n        \n        <button class=\"modal-close\">&times;</button>\n      </div>\n      <div class='poster_container'>\n        <img class=\"modal-poster\" src=\"https://image.tmdb.org/t/p/w500${\n          movie.poster_path\n        }\" alt=\"${movie.title}\">\n      </div>\n      <div class='info'>\n        <h3 class=\"modal-title\">${title}</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>${rate}</span> / ${movie.vote_count}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>${popularity}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>${orgtitle}</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>${genres}</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>${movie.overview}</p>\n          <div class=\"modal-btns\">\n            <button class=\"btnmodal addw\">ADD TO WATCHED</button>\n            <button class=\"btnmodal addq\">ADD TO QUEUE</button>\n        </div>\n      </div>\n    `;\n\n    const modalContentWrapper = document.createElement(\"div\");\n    modalContentWrapper.innerHTML = modalContent;\n    modalContentWrapper.classList.add(\"modal-content\");\n    modal.appendChild(modalContentWrapper);\n    modal.style.display = \"flex\";\n  \n    const closeButton = modalContentWrapper.querySelector(\".modal-close\");\n    closeButton.addEventListener(\"click\", () => {\n      modal.style.display = \"none\";\n      modalContentWrapper.remove();\n    });\n\n    const wls = watchedLocalStorage.watchedId;\n    const qls = queueLocalStorage.queueId;\n  \n    const watchButton = modalContentWrapper.querySelector(\".addw\");\n    const queueButton = modalContentWrapper.querySelector(\".addq\");\n\n    if (wls.includes(movie.id)) {\n      watchButton.classList.add('btnmodal2')\n      watchButton.classList.remove('btnmodal');\n      watchButton.textContent = 'REMOVE FROM WATCHED';\n      watchButton.addEventListener('click', () => {\n        const i = wls.indexOf(movie.id);\n        wls.splice(i, 1);\n        localStorage.setItem('watched', JSON.stringify(watchedLocalStorage));\n        watchButton.classList.add('btnmodal')\n        watchButton.classList.remove('btnmodal2');\n        watchButton.textContent = 'ADD TO WATCHED';\n        window.location.reload();\n        console.log(localStorage);\n      });} else {\n        watchButton.addEventListener(\"click\", () => {\n          wls.push(movie.id);\n          localStorage.setItem('watched', JSON.stringify(watchedLocalStorage));\n          if (qls.includes(movie.id)) {\n            const i = qls.indexOf(movie.id);\n            qls.splice(i, 1);\n            localStorage.setItem('queue', JSON.stringify(queueLocalStorage));\n          }\n          watchButton.classList.add('btnmodal2')\n          watchButton.classList.remove('btnmodal');\n          watchButton.textContent = 'REMOVE FROM WATCHED'; \n          window.location.reload();\n          console.log(localStorage);\n        });\n      };\n\n    if (qls.includes(movie.id)) {\n      queueButton.classList.add('btnmodal2')\n      queueButton.classList.remove('btnmodal');\n      queueButton.textContent = 'REMOVE FROM QUEUE';\n      queueButton.addEventListener('click', () => {\n        const i = qls.indexOf(movie.id);\n        qls.splice(i, 1);\n        localStorage.setItem('queue', JSON.stringify(queueLocalStorage));\n        queueButton.classList.add('btnmodal')\n        queueButton.classList.remove('btnmodal2');\n        queueButton.textContent = 'ADD TO QUEUE';\n        window.location.reload();\n        console.log(localStorage)\n      })} else {\n        queueButton.addEventListener(\"click\", () => {\n          qls.push(movie.id)\n          localStorage.setItem('queue', JSON.stringify(queueLocalStorage));\n          queueButton.classList.add('btnmodal2')\n          queueButton.classList.remove('btnmodal');\n          queueButton.textContent = 'REMOVE FORM QUEUE';\n          if (wls.includes(movie.id)) {\n            const i = wls.indexOf(movie.id);\n            wls.splice(i, 1);\n            localStorage.setItem('watched', JSON.stringify(watchedLocalStorage))\n          }\n          window.location.reload();\n          console.log(localStorage)\n        })\n      };\n   \n  \n\n    document.addEventListener('keydown', event => {\n      if (event.key === 'Escape') {\n        modal.style.display = 'none';\n        modalContentWrapper.remove();\n      }\n    });\n\n    document.addEventListener('click', (event) => {\n      if (event.target === modal) {\n        modal.style.display = 'none';\n        modalContentWrapper.remove();\n      }\n    })\n  }\n\n/*\n  function getGenres(genreIds) {\n    const genres = {\n      28: \"Action\",\n      12: \"Adventure\",\n      16: \"Animation\",\n      35: \"Comedy\",\n      80: \"Crime\",\n      99: \"Documentary\",\n      18: \"Drama\",\n      10751: \"Family\",\n      14: \"Fantasy\",\n      36: \"History\",\n      27: \"Horror\",\n      10402: \"Music\",\n      9648: \"Mystery\",\n      10749: \"Romance\",\n      878: \"Science Fiction\",\n      10770: \"TV Movie\",\n      53: \"Thriller\",\n      10752: \"War\",\n      37: \"Western\",\n    };\n    return genreIds.map((id) => genres[id]).join(\", \");\n  }*/\n  \n  export default displayMovieDetails;","import displayMovieDetails from './modal-library';\n\nconst films = document.querySelector('.films');\n\nfunction renderFilms(film) {\n    const baseUrl = 'https://image.tmdb.org/t/p/';\n    const posterSize = 'w500';\n    // 'w92', 'w185', 'w500',\n    const posterPath = film.poster_path ? `https://image.tmdb.org/t/p/w500${film.poster_path}` \n        : 'https://via.placeholder.com/500x750?text=No+poster+available';\n    const title = film.title.toUpperCase();\n    const rate = film.vote_average.toFixed(1);\n    const year = film.release_date.slice(0,4);\n    let genres = film.genres.map(genre => genre.name).join(', ');\n\n    const card = document.createElement('div');\n    card.classList.add('films__card');\n   \n    let markup = `\n    <img class='films__poster' src=${posterPath} alt=${title} loading='lazy' class='poster'>\n    <p class='films__title'>${title}</p>\n    <p class='films__details'>${genres} | ${year}</p>\n    <div class='films__rate'>${rate}</div>\n    `;\n    card.innerHTML = markup;\n\n    films.appendChild(card);\n    card.addEventListener(\"click\", () => {\n        displayMovieDetails(film);\n    })\n};\n\nexport default renderFilms;","import '../sass/index.scss';\nimport renderFilms from './librarycard';\n//import pagination from './pagination';\nimport { watchedLocalStorage, queueLocalStorage, getLocalq, getLocalw } from \"./localstorage\";\n\n// DOM -----\nconst watched = document.querySelector('.watched');\nconst queue = document.querySelector('.queue');\nconst films = document.querySelector('.films');\nconst msn = document.querySelector('.msn');\nconst pages = document.querySelector('.pages');\nconst screen = document.querySelector('.screen');\nconst itemsPerPage = 12;\nlet currentPage = 1;\n\nconsole.log(localStorage);\ngetLocalq();\ngetLocalw();\n\n//console.log(watchedLocalStorage.watchedId);\nlet queueIds = queueLocalStorage.queueId;\nlet watchedIds = watchedLocalStorage.watchedId;\n\n\nif (localStorage.getItem('queue') === null) {\n    queueIds = [];\n} else {\n queueIds = JSON.parse(localStorage.getItem('queue')).queueId;\n};\n\nif (localStorage.getItem('watched') === null) {\n    watchedIds = [];\n} else {\n watchedIds = JSON.parse(localStorage.getItem('watched')).watchedId;\n};\n\n\n\n\n\n// Local Storage Manage  ---\n\nconst apiKey = '0a3a4e00d84de20a8f1b6dfc8a7cdfd5';\n\n\nfunction getLocalStorage(arr, page) {\n    if (arr.length === 0 ) {\n        msn.textContent = 'No movies have been added to Watched list yet';\n    } else {\n        const startIndex = (page - 1) * itemsPerPage;\n        const endIndex = startIndex + itemsPerPage;\n        const itemsToDisplay = arr.slice(startIndex, endIndex);\n        films.innerHTML = '';\n        itemsToDisplay.forEach(movie_id => {\n            screen.style.display = 'flex';\n            fetch(`https://api.themoviedb.org/3/movie/${movie_id}?api_key=${apiKey}&language=en-US`)\n            .then(response => response.json())\n            .then(film => renderFilms(film))\n            .catch(error => console.error(error))\n            .finally(() => screen.style.display = 'none')\n        })\n        pagination(watchedIds, totalPagesW, currentPage);       \n    }\n}\n\n//Pages\nconst totalPagesW = Math.ceil(watchedIds.length / itemsPerPage);\nconst totalPagesQ = Math.ceil(queueIds.length / itemsPerPage);\n\n// Pagination\n\nconst pagesToShow = 5;\n\nconst pagination = (arr, totalPages, currentPage) => {\n    pages.innerHTML = '';\n\n    const prevBtn = document.createElement('button');\n    prevBtn.textContent = '←';\n    //prevBtn.innerHTML = markup;\n    prevBtn.classList.add('pagebtn');\n    prevBtn.disabled = currentPage === 1;\n    prevBtn.addEventListener('click', () => {\n        currentPage--;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(prevBtn);\n\n    const first = document.createElement('button');\n    first.textContent = '1';\n    first.classList.add('page');\n    first.disabled = currentPage === 1;\n    first.addEventListener('click', () => {\n        currentPage = 1;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(first);\n\n    const dots = document.createElement('div');\n    dots.textContent = '...';\n    dots.classList.add('dots');\n    pages.append(dots);\n\n    const st1 = Math.max(currentPage - Math.floor(pagesToShow/2), 1);\n    const st2 = Math.max(currentPage - pagesToShow + 1, 1);\n    const st3 = Math.max(currentPage - pagesToShow + 2, 1);\n\n    let startPage;\n    currentPage === totalPages ? startPage = st2 \n    : currentPage === totalPages - 1 ? startPage = st3 : startPage = st1;\n    \n    const endPage = Math.min(startPage + pagesToShow - 1, totalPages);\n    for(let i = startPage; i <= endPage; i++) {\n      const pageButton = document.createElement('button');\n      pageButton.classList.add('page');\n      pageButton.textContent = i;\n      pageButton.disabled = i === currentPage;\n\n      i === currentPage ? pageButton.classList.add('activePage') : pageButton.classList.remove('activePage');\n\n      pageButton.addEventListener('click', () => {\n        currentPage = i;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n      });\n      pages.append(pageButton);\n    };\n\n    const dots1 = document.createElement('div');\n    dots1.textContent = '...';\n    dots1.classList.add('dots');\n    pages.append(dots1);\n\n    const last = document.createElement('button');\n    last.textContent = totalPages;\n    last.classList.add('page');\n    last.disabled = currentPage === totalPages\n    last.addEventListener('click', () => {\n        currentPage = totalPages;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(last);\n\n    const nextBtn = document.createElement('button');\n    nextBtn.textContent = '→';\n    nextBtn.classList.add('pagebtn');\n    nextBtn.disabled = currentPage === totalPages;\n    nextBtn.addEventListener('click', () => {\n        currentPage++;\n        getLocalStorage(arr, currentPage);\n        pagination(arr, totalPages, currentPage);\n    });\n    pages.append(nextBtn);\n}\n\n\n// Event Listeners ---\n\nwatched.addEventListener('click', (event) => {\n    event.preventDefault();\n    watched.classList.add('selected');\n    queue.classList.remove('selected');\n    if (watchedIds.length === 0) {\n        films.innerHTML = '';\n        msn.textContent = 'No movies have been added to Watched list yet';\n        pages.innerHTML = '';\n    } else {\n        getLocalStorage(watchedIds, currentPage, 'Watched');\n        pagination(watchedIds, totalPagesW, currentPage);  \n    }\n});\n\n\nqueue.addEventListener('click', (event) => {\n    event.preventDefault();\n    queue.classList.add('selected');\n    watched.classList.remove('selected');\n    if (queueIds.length === 0) {\n        films.innerHTML = '';\n        msn.textContent = 'No movies have been added to Queue list yet';\n        pages.innerHTML = '';\n    } else {\n        getLocalStorage(queueIds, currentPage);\n        pagination(queueIds, totalPagesQ, currentPage);\n    }\n});\n\n\n// Render by default\n\npages.innerHTML = '';\ngetLocalStorage(watchedIds, currentPage);\n\n\n// Tests\n/*\n const url = `https://api.themoviedb.org/3/trending/all/day?api_key=${apiKey}`;\n fetch(url)\n .then(response => response.json())\n .then(data => getID(data.results))\n .catch(error => console.error(error));\n\nfunction getID(data) {\n    data.forEach(film => console.log(film.id))\n}\n*/\n\n"],"names":["$89a4baeedb6cdec9$export$4f6b185e4dc4f136","watchedId","$89a4baeedb6cdec9$export$c81a7d018e818c6b","queueId","$89a4baeedb6cdec9$export$f39868f017108d63","localStorage","getItem","JSON","parse","$89a4baeedb6cdec9$export$3f3c93466f3be751","$2631b5b1e00936b8$export$2e2bcd8739ae039","movie","modal","document","querySelector","title","name","toUpperCase","orgtitle","original_title","popularity","toFixed","rate","vote_average","genres","map","genre","join","modalContent","poster_path","vote_count","overview","modalContentWrapper","createElement","innerHTML","classList","add","appendChild","style","display","addEventListener","remove","wls","qls","watchButton","queueButton","includes","id","textContent","i","indexOf","splice","setItem","stringify","window","location","reload","console","log","push","event","key","target","$cd7e5924aa0d981e$var$films","$cd7e5924aa0d981e$export$2e2bcd8739ae039","film","posterPath","year","release_date","slice","card","markup","$ad8c01af5b9c46e5$var$watched","$ad8c01af5b9c46e5$var$queue","$ad8c01af5b9c46e5$var$films","$ad8c01af5b9c46e5$var$msn","$ad8c01af5b9c46e5$var$pages","$ad8c01af5b9c46e5$var$screen","$ad8c01af5b9c46e5$var$queueIds","$ad8c01af5b9c46e5$var$watchedIds","$ad8c01af5b9c46e5$var$getLocalStorage","arr","page","length","startIndex","endIndex","itemsToDisplay","forEach","movie_id","fetch","then","response","json","catch","error","finally","$ad8c01af5b9c46e5$var$pagination","$ad8c01af5b9c46e5$var$totalPagesW","Math","ceil","$ad8c01af5b9c46e5$var$totalPagesQ","totalPages","currentPage1","prevBtn","disabled","append","first","dots","st1","max","floor","$ad8c01af5b9c46e5$var$pagesToShow","st2","st3","startPage","endPage","min","pageButton","dots1","last","nextBtn","preventDefault"],"version":3,"file":"mylibrary.93dd1ba8.js.map"}