!function(){function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},o=e.parcelRequire4383;null==o&&((o=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var o={id:t,exports:{}};return n[t]=o,e.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){a[t]=e},e.parcelRequire4383=o),o.register("5TAx9",(function(e,n){t(e.exports,"render",(function(){return c})),t(e.exports,"paginationH",(function(){return l}));var a=o("4iEUr");o("cHbiO").config();var r=1,i=500,s=document.querySelector(".screen");var c=function(){(s.style.display="flex",fetch("https://api.themoviedb.org/3/trending/".concat("movie","/").concat("week","?api_key=").concat(void 0,"&per_page=18&page=").concat(r)).then((function(t){if(!t.ok)throw s.style.display="none",new Error(t.status);return t.json()})).finally((function(){return s.style.display="none"}))).then((function(t){return(0,a.default)(t)}))};c();var d=document.querySelector(".pages"),l=function(){var t=function(t){var e=document.createElement("button");e.classList.add("page"),e.textContent=t,e.disabled=t===r,t===r?e.classList.add("activePage"):e.classList.remove("activePage"),e.addEventListener("click",(function(){r=t,c(),l()})),d.append(e)};d.innerHTML="";var e=document.createElement("button");if(e.textContent="←",e.classList.add("pagebtn"),e.disabled=1===r,e.addEventListener("click",(function(){r--,c(),l()})),d.append(e),r>3){var n=document.createElement("button");n.textContent="1",n.classList.add("page"),n.disabled=1===r,n.addEventListener("click",(function(){r=1,c(),l()})),d.append(n)}if(r>4){var a=document.createElement("div");a.textContent="...",a.classList.add("dots"),d.append(a)}var o,s=Math.max(r-Math.floor(2.5),1),u=Math.max(r-5+1,1),p=Math.max(r-5+2,1);o=r===i?u:499===r?p:s;for(var f=Math.min(o+5-1,i),m=o;m<=f;m++)t(m);if(r<497){var v=document.createElement("div");v.textContent="...",v.classList.add("dots"),d.append(v)}if(r<498){var h=document.createElement("button");h.textContent=i,h.classList.add("page"),h.disabled=r===i,h.addEventListener("click",(function(){r=i,c(),l()})),d.append(h)}var g=document.createElement("button");g.textContent="→",g.classList.add("pagebtn"),g.disabled=r===i,g.addEventListener("click",(function(){r++,c(),l()})),d.append(g)};l()})),o.register("4iEUr",(function(e,n){t(e.exports,"default",(function(){return s}));var a=o("twtVq"),r=o("5xtVg"),i=document.querySelector(".films");var s=function t(e){i.innerHTML="",0===a.genresArr.length&&(0,a.loadGenres)().then((function(){t(e)})),e.results.slice(0,18).map((function(t){for(var e=function(t){var e=a.genresArr.find((function(e){return e.id===n[t]}));if(!e)return"continue";o.push(e.name)},n=t.genre_ids,o=[],s=0;s<n.length;s++)e(s);var c=o.join(", "),d=t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):"https://via.placeholder.com/500x750?text=No+poster+available",l=document.createElement("div");l.classList.add("films__card"),l.innerHTML='\n        <img class= "films__poster" src='.concat(d,'></> \n        <p class= "films__title">').concat(t.title||t.name,'</p>\n        <p class= "films__details">').concat(c," | ").concat(t.release_date&&t.release_date.slice(0,4)||t.first_air_date.slice(0,4),"</p>\n        <div class='films__rate'>").concat(t.vote_average.toFixed(1),"</div>\n    "),i.appendChild(l),l.addEventListener("click",(function(){(0,r.default)(t)}))})).join("")}})),o.register("twtVq",(function(e,n){t(e.exports,"genresArr",(function(){return a})),t(e.exports,"loadGenres",(function(){return r})),o("cHbiO").config();var a=[];function r(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(undefined,"&language=en-US")).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){return a=t.genres}))}})),o.register("5xtVg",(function(e,n){t(e.exports,"default",(function(){return i}));var a=o("6Sco9"),r=o("twtVq");var i=function(t){for(var e=function(t){var e=r.genresArr.find((function(e){return e.id===l[t]}));if(!e)return"continue";u.push(e.name)},n=document.querySelector(".modalw"),o=(t.title||t.name).toUpperCase(),i=(t.original_title||t.name).toUpperCase(),s=t.popularity.toFixed(1),c=t.vote_average.toFixed(1),d=t.release_date&&t.release_date.slice(0,4)||t.first_air_date.slice(0,4),l=t.genre_ids,u=[],p=0;p<l.length;p++)e(p);var f=u.join(", "),m='\n      <div class="modal-header">\n        \n        <button class="modal-close">&times;</button>\n      </div>\n      <div class=\'poster_container\'>\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500'.concat(t.poster_path,'" alt="').concat(o,'">\n      </div>\n      <div class=\'info\'>\n        <h3 class="modal-title">').concat(o,"</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>").concat(c,"</span> / ").concat(t.vote_count,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>").concat(s,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>").concat(i,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Year</th>\n            <th>").concat(d,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>").concat(f,"</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>").concat(t.overview,'</p>\n          <div class="modal-btns">\n            <button class="btnmodal addw">ADD TO LIBRARY</button>\n        </div>\n      </div>\n    '),v=document.createElement("div");v.innerHTML=m,v.classList.add("modal-content"),n.appendChild(v),n.style.display="flex",v.querySelector(".modal-close").addEventListener("click",(function(){n.style.display="none",v.remove()}));var h=a.watchedLocalStorage.watchedId,g=v.querySelector(".addw");h.includes(t.id)?(g.classList.add("btnmodal2"),g.classList.remove("btnmodal"),g.textContent="REMOVE FROM WATCHED",g.addEventListener("click",(function(){var e=h.indexOf(t.id);h.splice(e,1),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),g.classList.add("btnmodal"),g.classList.remove("btnmodal2"),g.textContent="ADD TO LIBRARY",n.style.display="none",v.remove()}))):g.addEventListener("click",(function(){h.push(t.id),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),g.classList.add("btnmodal2"),g.classList.remove("btnmodal"),g.textContent="REMOVE FROM LIBRARY",n.style.display="none",v.remove()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(n.style.display="none",v.remove())})),document.addEventListener("click",(function(t){t.target===n&&(n.style.display="none",v.remove())}))}})),o("5TAx9")}();
//# sourceMappingURL=index.11bff347.js.map
