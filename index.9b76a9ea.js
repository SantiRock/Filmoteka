!function(){function t(t){return t&&t.__esModule?t.default:t}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},a=e.parcelRequired7c6;null==a&&((a=function(t){if(t in n)return n[t].exports;if(t in r){var e=r[t];delete r[t];var a={id:t,exports:{}};return n[t]=a,e.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){r[t]=e},e.parcelRequired7c6=a);var o,i={},c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(t){return t&&t.constructor===Symbol?"symbol":typeof t},i=function(e){var n=void 0===e?"undefined":t(c)(e);return null!=e&&("object"==n||"function"==n)};var d,u={},l={};d="object"==typeof e&&e&&e.Object===Object&&e;var s="object"==typeof self&&self&&self.Object===Object&&self,f=d||s||Function("return this")();u=function(){return l.Date.now()};var v={},p={},m={},y=/\s/;m=function(t){for(var e=t.length;e--&&y.test(t.charAt(e)););return e};var b=/^\s+/;p=function(t){return t?t.slice(0,m(t)+1).replace(b,""):t};var g,h={},x={};g=(l=f).Symbol;var _={},E=Object.prototype,L=E.hasOwnProperty,T=E.toString,j=g?g.toStringTag:void 0;_=function(t){var e=L.call(t,j),n=t[j];try{t[j]=void 0;var r=!0}catch(t){}var a=T.call(t);return r&&(e?t[j]=n:delete t[j]),a};var w={},M=Object.prototype.toString;w=function(t){return M.call(t)};var O=g?g.toStringTag:void 0;x=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":O&&O in Object(t)?_(t):w(t)};var S={};S=function(t){return null!=t&&"object"==typeof t};h=function(e){return"symbol"==(void 0===e?"undefined":t(c)(e))||S(e)&&"[object Symbol]"==x(e)};var C=/^[-+]0x[0-9a-f]+$/i,N=/^0b[01]+$/i,q=/^0o[0-7]+$/i,k=parseInt;v=function(t){if("number"==typeof t)return t;if(h(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=p(t);var n=N.test(t);return n||q.test(t)?k(t.slice(2),n?2:8):C.test(t)?NaN:+t};var H=Math.max,A=Math.min;o=function(t,e,n){var r,a,o,c,d,l,s=0,f=!1,p=!1,m=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function y(e){var n=r,o=a;return r=a=void 0,s=e,c=t.apply(o,n)}function b(t){return s=t,d=setTimeout(h,e),f?y(t):c}function g(t){var n=t-l;return void 0===l||n>=e||n<0||p&&t-s>=o}function h(){var t=u();if(g(t))return x(t);d=setTimeout(h,function(t){var n=e-(t-l);return p?A(n,o-(t-s)):n}(t))}function x(t){return d=void 0,m&&r?y(t):(r=a=void 0,c)}function _(){var t=u(),n=g(t);if(r=arguments,a=this,l=t,n){if(void 0===d)return b(l);if(p)return clearTimeout(d),d=setTimeout(h,e),y(l)}return void 0===d&&(d=setTimeout(h,e)),c}return e=v(e)||0,i(n)&&(f=!!n.leading,o=(p="maxWait"in n)?H(v(n.maxWait)||0,e):o,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==d&&clearTimeout(d),s=0,r=l=a=d=void 0},_.flush=function(){return void 0===d?c:x(u())},_};var D=a("twtVq"),P=a("5xtVg"),U=a("5TAx9"),F=document.getElementById("search-input"),$=document.querySelector(".search-button"),B=document.querySelector(".errormsn"),I=document.querySelector(".films"),R=document.querySelector(".pages"),V=document.querySelector(".erroc"),W="",G=1,z=50,J=document.querySelector(".screen");function K(){return J.style.display="flex",fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("0a3a4e00d84de20a8f1b6dfc8a7cdfd5","&query=").concat(W,"&page=").concat(G)).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){0===t.total_results?(R.innerHTML="",B.textContent="Search result not successful. Enter the correct movie name and try again",I.innerHTML="",V.style.display="block"):(z=t.total_pages,B.textContent="",V.style.display="none",Q(t),X())})).catch((function(t){return console.error(t)})).finally((function(){return J.style.display="none"}))}function Q(t){I.innerHTML="";var e=t.results.slice(0,12);0===D.genresArr.length&&(0,D.loadGenres)().then((function(){Q(t)})),e.forEach((function(t){for(var e=function(t){var e=D.genresArr.find((function(e){return e.id===n[t]}));if(!e)return"continue";r.push(e.name)},n=t.genre_ids,r=[],a=0;a<n.length;a++)e(a);var o=r.join(", "),i=document.createElement("div");i.classList.add("films__card");t.genre_ids.map((function(t){return t})).join(", ");var c=t.release_date.slice(0,4),d=t.vote_average.toFixed(1),u=t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):"https://via.placeholder.com/500x750?text=No+poster+available";i.innerHTML='\n        <img src="'.concat(u,'" alt="').concat(t.title,'" class="films__poster">\n        <p class="films__title">').concat(t.title,"</p>\n        <p class='films__details'>").concat(o," | ").concat(c,"</p>\n        <div class='films__rate'>").concat(d,"</div>\n        "),I.appendChild(i),i.addEventListener("click",(function(){(0,P.default)(t)}))}))}F.addEventListener("keydown",t(o)((function(){G=1,""===(W=F.value.trim())?(B.textContent="",V.style.display="none",G=1,(0,U.render)(),(0,U.paginationH)()):K()}),300)),R.addEventListener("click",(function(t){var e=t.target;"BUTTON"===e.tagName&&("prev"===e.id&&G>1?(G--,K()):"first"===e.id&&G>1?(G=1,K()):"next"===e.id&&G<z?(G++,K()):"last"===e.id&&G<z?(G=z,K()):"prev"!==e.id&&"next"!==e.id&&e.id&&(G=Number(e.id),K()))}));var X=function(){R.innerHTML="";var t=document.createElement("button");t.textContent="←",t.classList.add("pagebtn"),t.id="prev",t.disabled=1===G,R.append(t);var e=document.createElement("button");e.textContent="1",e.classList.add("page"),e.id="first",e.disabled=1===G,R.append(e);var n=document.createElement("div");n.textContent="...",n.classList.add("dots"),R.append(n);var r,a=Math.max(G-Math.floor(2.5),1),o=Math.max(G-5+1,1),i=Math.max(G-5+2,1);r=G===z?o:G===z-1?i:a;for(var c=Math.min(r+5-1,z),d=r;d<=c;d++){var u=document.createElement("button");u.classList.add("page"),u.id=d,u.textContent=d,u.disabled=d===G,d===G?u.classList.add("activePage"):u.classList.remove("activePage"),R.append(u)}var l=document.createElement("div");l.textContent="...",l.classList.add("dots"),R.append(l);var s=document.createElement("button");s.textContent=z,s.classList.add("page"),s.id="last",s.disabled=G===z,R.append(s);var f=document.createElement("button");f.textContent="→",f.classList.add("pagebtn"),f.id="next",f.disabled=G===z,R.append(f)};$.addEventListener("click",(function(t){t.preventDefault()}))}();
//# sourceMappingURL=index.9b76a9ea.js.map
