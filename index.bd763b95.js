!function(){function t(t,e,n,a){Object.defineProperty(t,e,{get:n,set:a,enumerable:!0,configurable:!0})}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=e.parcelRequire4383;null==r&&((r=function(t){if(t in n)return n[t].exports;if(t in a){var e=a[t];delete a[t];var r={id:t,exports:{}};return n[t]=r,e.call(r.exports,r,r.exports),r.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},e.parcelRequire4383=r),r.register("5TAx9",(function(e,n){t(e.exports,"render",(function(){return s})),t(e.exports,"paginationH",(function(){return l}));var a=r("4iEUr");r("cHbiO").config();var o=1,i=500,c=document.querySelector(".screen");var s=function(){(c.style.display="flex",fetch("https://api.themoviedb.org/3/trending/".concat("movie","/").concat("week","?api_key=").concat("0a3a4e00d84de20a8f1b6dfc8a7cdfd5","&per_page=18&page=").concat(o)).then((function(t){if(!t.ok)throw c.style.display="none",new Error(t.status);return t.json()})).finally((function(){return c.style.display="none"}))).then((function(t){return(0,a.default)(t)}))};s();var d=document.querySelector(".pages"),l=function(){var t=function(t){var e=document.createElement("button");e.classList.add("page"),e.textContent=t,e.disabled=t===o,t===o?e.classList.add("activePage"):e.classList.remove("activePage"),e.addEventListener("click",(function(){o=t,s(),l()})),d.append(e)};d.innerHTML="";var e=document.createElement("button");if(e.textContent="←",e.classList.add("pagebtn"),e.disabled=1===o,e.addEventListener("click",(function(){o--,s(),l()})),d.append(e),o>3){var n=document.createElement("button");n.textContent="1",n.classList.add("page"),n.disabled=1===o,n.addEventListener("click",(function(){o=1,s(),l()})),d.append(n)}if(o>4){var a=document.createElement("div");a.textContent="...",a.classList.add("dots"),d.append(a)}var r,c=Math.max(o-Math.floor(2.5),1),u=Math.max(o-5+1,1),p=Math.max(o-5+2,1);r=o===i?u:499===o?p:c;for(var f=Math.min(r+5-1,i),m=r;m<=f;m++)t(m);if(o<497){var v=document.createElement("div");v.textContent="...",v.classList.add("dots"),d.append(v)}if(o<498){var h=document.createElement("button");h.textContent=i,h.classList.add("page"),h.disabled=o===i,h.addEventListener("click",(function(){o=i,s(),l()})),d.append(h)}var g=document.createElement("button");g.textContent="→",g.classList.add("pagebtn"),g.disabled=o===i,g.addEventListener("click",(function(){o++,s(),l()})),d.append(g)};l()})),r.register("4iEUr",(function(e,n){t(e.exports,"default",(function(){return c}));var a=r("twtVq"),o=r("5xtVg"),i=document.querySelector(".films");var c=function t(e){i.innerHTML="",0===a.genresArr.length&&(0,a.loadGenres)().then((function(){t(e)})),e.results.slice(0,18).map((function(t){for(var e=function(t){var e=a.genresArr.find((function(e){return e.id===n[t]}));if(!e)return"continue";r.push(e.name)},n=t.genre_ids,r=[],c=0;c<n.length;c++)e(c);var s=r.join(", "),d=t.poster_path?"https://image.tmdb.org/t/p/w500".concat(t.poster_path):"https://via.placeholder.com/500x750?text=No+poster+available",l=document.createElement("div");l.classList.add("films__card"),l.innerHTML='\n        <img class= "films__poster" src='.concat(d,'></> \n        <p class= "films__title">').concat(t.title||t.name,'</p>\n        <p class= "films__details">').concat(s," | ").concat(t.release_date&&t.release_date.slice(0,4)||t.first_air_date.slice(0,4),"</p>\n        <div class='films__rate'>").concat(t.vote_average.toFixed(1),"</div>\n    "),i.appendChild(l),l.addEventListener("click",(function(){(0,o.default)(t)}))})).join("")}})),r.register("twtVq",(function(e,n){t(e.exports,"genresArr",(function(){return a})),t(e.exports,"loadGenres",(function(){return o})),r("cHbiO").config();var a=[];function o(){return fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=".concat(undefined,"&language=en-US")).then((function(t){if(!t.ok)throw new Error(t.status);return t.json()})).then((function(t){return a=t.genres}))}})),r.register("5xtVg",(function(e,n){t(e.exports,"default",(function(){return i}));var a=r("6Sco9"),o=r("twtVq");var i=function(t){for(var e=function(t){var e=o.genresArr.find((function(e){return e.id===l[t]}));if(!e)return"continue";u.push(e.name)},n=document.querySelector(".modalw"),r=(t.title||t.name).toUpperCase(),i=(t.original_title||t.name).toUpperCase(),c=t.popularity.toFixed(1),s=t.vote_average.toFixed(1),d=t.release_date&&t.release_date.slice(0,4)||t.first_air_date.slice(0,4),l=t.genre_ids,u=[],p=0;p<l.length;p++)e(p);var f=u.join(", "),m='\n      <div class="modal-header">\n        \n        <button class="modal-close">&times;</button>\n      </div>\n      <div class=\'poster_container\'>\n        <img class="modal-poster" src="https://image.tmdb.org/t/p/w500'.concat(t.poster_path,'" alt="').concat(r,'">\n      </div>\n      <div class=\'info\'>\n        <h3 class="modal-title">').concat(r,"</h3>\n\n        <table>\n          <tr>\n            <th class='t1'>Vote / Votes</th>\n            <th><span class='films__rate'>").concat(s,"</span> / ").concat(t.vote_count,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Popularity</th>\n            <th>").concat(c,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Original Title</th>\n            <th>").concat(i,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Year</th>\n            <th>").concat(d,"</th>\n          </tr>\n          <tr>\n            <th class='t1'>Genre</th>\n            <th>").concat(f,"</th>\n          </tr>\n        </table>\n          <p>ABOUT</p>\n          <p class='about'>").concat(t.overview,'</p>\n          <div class="modal-btns">\n            <button class="btnmodal addw">ADD TO LIBRARY</button>\n        </div>\n      </div>\n    '),v=document.createElement("div");v.innerHTML=m,v.classList.add("modal-content"),n.appendChild(v),n.style.display="flex",v.querySelector(".modal-close").addEventListener("click",(function(){n.style.display="none",v.remove()}));var h=a.watchedLocalStorage.watchedId,g=v.querySelector(".addw");h.includes(t.id)?(g.classList.add("btnmodal2"),g.classList.remove("btnmodal"),g.textContent="REMOVE FROM WATCHED",g.addEventListener("click",(function(){var e=h.indexOf(t.id);h.splice(e,1),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),g.classList.add("btnmodal"),g.classList.remove("btnmodal2"),g.textContent="ADD TO LIBRARY",n.style.display="none",v.remove()}))):g.addEventListener("click",(function(){h.push(t.id),localStorage.setItem("watched",JSON.stringify(a.watchedLocalStorage)),g.classList.add("btnmodal2"),g.classList.remove("btnmodal"),g.textContent="REMOVE FROM LIBRARY",n.style.display="none",v.remove()})),document.addEventListener("keydown",(function(t){"Escape"===t.key&&(n.style.display="none",v.remove())})),document.addEventListener("click",(function(t){t.target===n&&(n.style.display="none",v.remove())}))}})),r("5TAx9")}();
//# sourceMappingURL=index.bd763b95.js.map
