function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},o=t.parcelRequire4383;null==o&&((o=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var o={id:e,exports:{}};return n[e]=o,t.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},t.parcelRequire4383=o);var i,a={};a=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var s,c={},l={};s="object"==typeof t&&t&&t.Object===Object&&t;var d="object"==typeof self&&self&&self.Object===Object&&self,u=s||d||Function("return this")();c=function(){return l.Date.now()};var f={},p={},v={},m=/\s/;v=function(e){for(var t=e.length;t--&&m.test(e.charAt(t)););return t};var y=/^\s+/;p=function(e){return e?e.slice(0,v(e)+1).replace(y,""):e};var g,b={},h={};g=(l=u).Symbol;var x={},_=Object.prototype,E=_.hasOwnProperty,L=_.toString,T=g?g.toStringTag:void 0;x=function(e){var t=E.call(e,T),n=e[T];try{e[T]=void 0;var r=!0}catch(e){}var o=L.call(e);return r&&(t?e[T]=n:delete e[T]),o};var j={},w=Object.prototype.toString;j=function(e){return w.call(e)};var M=g?g.toStringTag:void 0;h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":M&&M in Object(e)?x(e):j(e)};var O={};O=function(e){return null!=e&&"object"==typeof e};b=function(e){return"symbol"==typeof e||O(e)&&"[object Symbol]"==h(e)};var S=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,$=/^0o[0-7]+$/i,N=parseInt;f=function(e){if("number"==typeof e)return e;if(b(e))return NaN;if(a(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=a(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=p(e);var n=C.test(e);return n||$.test(e)?N(e.slice(2),n?2:8):S.test(e)?NaN:+e};var q=Math.max,k=Math.min;i=function(e,t,n){var r,o,i,s,l,d,u=0,p=!1,v=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,i=o;return r=o=void 0,u=t,s=e.apply(i,n)}function g(e){return u=e,l=setTimeout(h,t),p?y(e):s}function b(e){var n=e-d;return void 0===d||n>=t||n<0||v&&e-u>=i}function h(){var e=c();if(b(e))return x(e);l=setTimeout(h,function(e){var n=t-(e-d);return v?k(n,i-(e-u)):n}(e))}function x(e){return l=void 0,m&&r?y(e):(r=o=void 0,s)}function _(){var e=c(),n=b(e);if(r=arguments,o=this,d=e,n){if(void 0===l)return g(d);if(v)return clearTimeout(l),l=setTimeout(h,t),y(d)}return void 0===l&&(l=setTimeout(h,t)),s}return t=f(t)||0,a(n)&&(p=!!n.leading,i=(v="maxWait"in n)?q(f(n.maxWait)||0,t):i,m="trailing"in n?!!n.trailing:m),_.cancel=function(){void 0!==l&&clearTimeout(l),u=0,r=d=o=l=void 0},_.flush=function(){return void 0===l?s:x(c())},_};var H=o("ezyJp"),D=o("bTcpz"),U=o("btpe3");o("isoaK").config();const A=document.getElementById("search-input"),F=document.querySelector(".search-button"),P=document.querySelector(".errormsn"),z=document.querySelector(".films"),B=document.querySelector(".pages"),I=document.querySelector(".erroc");let R="",W=1,G=50;const J=document.querySelector(".screen");function K(){return J.style.display="flex",fetch(`https://api.themoviedb.org/3/search/movie?api_key=undefined&query=${R}&page=${W}`).then((e=>{if(!e.ok)throw new Error(e.status);return e.json()})).then((e=>{0===e.total_results?(B.innerHTML="",P.textContent="Search result not successful. Enter the correct movie name and try again",z.innerHTML="",I.style.display="block"):(G=e.total_pages,P.textContent="",I.style.display="none",Q(e),V())})).catch((e=>console.error(e))).finally((()=>J.style.display="none"))}function Q(e){z.innerHTML="";const t=e.results.slice(0,18);0===H.genresArr.length&&(0,H.loadGenres)().then((()=>{Q(e)})),t.forEach((e=>{const t=e.genre_ids,n=[];for(let e=0;e<t.length;e++){let r=H.genresArr.find((n=>n.id===t[e]));r&&n.push(r.name)}const r=n.join(", "),o=document.createElement("div");o.classList.add("films__card");e.genre_ids.map((e=>e)).join(", ");const i=e.release_date.slice(0,4),a=e.vote_average.toFixed(1),s=e.poster_path?`https://image.tmdb.org/t/p/w500${e.poster_path}`:"https://via.placeholder.com/500x750?text=No+poster+available";o.innerHTML=`\n        <img src="${s}" alt="${e.title}" class="films__poster">\n        <p class="films__title">${e.title}</p>\n        <p class='films__details'>${r} | ${i}</p>\n        <div class='films__rate'>${a}</div>\n        `,z.appendChild(o),o.addEventListener("click",(()=>{(0,D.default)(e)}))}))}A.addEventListener("keydown",e(i)((()=>{W=1,R=A.value.trim(),""===R?(P.textContent="",I.style.display="none",W=1,(0,U.render)(),(0,U.paginationH)()):K()}),300)),B.addEventListener("click",(e=>{const t=e.target;"BUTTON"===t.tagName&&("prev"===t.id&&W>1?(W--,K()):"first"===t.id&&W>1?(W=1,K()):"next"===t.id&&W<G?(W++,K()):"last"===t.id&&W<G?(W=G,K()):"prev"!==t.id&&"next"!==t.id&&t.id&&(W=Number(t.id),K()))}));const V=()=>{B.innerHTML="";const e=document.createElement("button");if(e.textContent="←",e.classList.add("pagebtn"),e.id="prev",e.disabled=1===W,B.append(e),W>3){const e=document.createElement("button");e.textContent="1",e.classList.add("page"),e.id="first",B.append(e)}if(W>4){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),B.append(e)}const t=Math.max(W-Math.floor(2.5),1),n=Math.max(W-5+1,1),r=Math.max(W-5+2,1);let o;o=W===G?n:W===G-1?r:t;const i=Math.min(o+5-1,G);for(let e=o;e<=i;e++){const t=document.createElement("button");t.classList.add("page"),t.id=e,t.textContent=e,t.disabled=e===W,e===W?t.classList.add("activePage"):t.classList.remove("activePage"),B.append(t)}if(W<G-3){const e=document.createElement("div");e.textContent="...",e.classList.add("dots"),B.append(e)}if(W<G-2){const e=document.createElement("button");e.textContent=G,e.classList.add("page"),e.id="last",B.append(e)}const a=document.createElement("button");a.textContent="→",a.classList.add("pagebtn"),a.id="next",a.disabled=W===G,B.append(a)};F.addEventListener("click",(e=>{e.preventDefault()}));
//# sourceMappingURL=index.e5feef40.js.map
